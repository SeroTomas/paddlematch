"use strict";(self.webpackChunkPaddleMatch=self.webpackChunkPaddleMatch||[]).push([[102],{82102:(e,r,s)=>{s.r(r),s.d(r,{GeneralSettingsPage:()=>N});var a=s(39998),n=s(42130),l=s(53593),i=s(78186),t=s(25389),o=s(65043),c=s(12361),d=s(17592),u=s(22768),m=s(24095),x=s(70579);function j(){const{config:{announcement:e},setConfig:r}=(0,o.useContext)(d.v),[s,a]=(0,o.useState)(),[n,j]=(0,o.useState)(!0),[h,A]=(0,m.g)(u.D9,r),[b]=l.A.useForm(),p=(0,o.useCallback)((e=>{b.resetFields(),a(!!e),j(!0)}),[b]);(0,o.useEffect)((()=>{p(e)}),[p,e]);const g=(0,o.useCallback)((e=>{a(e.target.checked)}),[]),f=(0,o.useCallback)((()=>{n&&j(!1)}),[n]),C=(0,o.useCallback)((e=>{let{announcement:r}=e;A(null,{announcement:s?r:""},(()=>p(s&&r)))}),[s,A,p]);return(0,x.jsxs)(l.A,{form:b,layout:"vertical",onFinish:C,onFieldsChange:f,children:[(0,x.jsx)(l.A.Item,{name:"announcement",label:(0,x.jsx)(i.A,{checked:s,onChange:g,children:"Publicar anuncio"}),initialValue:e,children:(0,x.jsx)(t.A.TextArea,{disabled:!s})}),(0,x.jsx)(l.A.Item,{children:(0,x.jsx)(c.G,{apiState:h,disableReset:n,onReset:p})})]})}var h=s(26032),A=s(64435),b=s(89421),p=s(39470),g=s(79822),f=s(59266),C=s(61966),k=s(75337);const v={court:"CourtConfigForm_court__U2UhB",courtIdInput:"CourtConfigForm_courtIdInput__Md287"};function I(){const{courts:e,setCourts:r}=(0,o.useContext)(d.v),[s,a]=(0,o.useState)(!0),[n,i]=(0,m.g)(u.kI,r),[j]=l.A.useForm(),I=(0,o.useMemo)((()=>({courts:e})),[e]),y=(0,o.useCallback)((()=>{j.resetFields(),a(!0)}),[j]);(0,o.useEffect)((()=>{j.resetFields()}),[j,e]);const q=(0,o.useCallback)((()=>{const r=j.getFieldValue("courts")||[];let s=0;for(let a of[...e,...r])s=Math.max(a.courtId,s);return s+1}),[e,j]),S=(0,o.useCallback)((()=>{s&&a(!1)}),[s]),F=(0,o.useCallback)((e=>{let{courts:r}=e;h.A.confirm({title:"\xa1Peligro!",icon:(0,x.jsx)(p.A,{}),centered:!0,content:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"El cambio de asiento puede provocar la p\xe9rdida de las reservas existentes."}),(0,x.jsx)("p",{children:"Todas las reservas que se produzcan durante un per\xedodo de bloqueo se cancelar\xe1n autom\xe1ticamente."}),(0,x.jsx)("p",{children:"Esto tambi\xe9n se aplica a la eliminaci\xf3n de un lugar."}),(0,x.jsx)("p",{children:"Todos los usuarios afectados por una cancelaci\xf3n ser\xe1n informados por correo electr\xf3nico."})]}),okText:"Confirmar",okType:"danger",cancelText:"Cancelar",onOk(){i(null,r,y)}})}),[i,y]);return(0,x.jsxs)(l.A,{autoComplete:"off",form:j,initialValues:I,layout:"vertical",onFieldsChange:S,onFinish:F,children:[(0,x.jsx)(l.A.List,{name:"courts",children:(e,r)=>{let{add:s,remove:a,move:n}=r;return(0,x.jsxs)(x.Fragment,{children:[e.map(((e,r)=>(0,x.jsx)("div",{className:v.court,children:(0,x.jsxs)(A.A,{children:[(0,o.createElement)(l.A.Item,{...e,key:"courtId",label:"ID",name:[e.name,"courtId"],fieldKey:[e.fieldKey,"courtId"]},(0,x.jsx)(t.A,{disabled:!0,bordered:!1,className:v.courtIdInput})),(0,o.createElement)(l.A.Item,{...e,key:"name",label:"Name",name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],rules:[{required:!0,message:"Nombre requerido"}]},(0,x.jsx)(t.A,{placeholder:"Ejemplo: club aeronautico"})),(0,x.jsx)(l.A.Item,{label:"Desplazar",children:(0,x.jsxs)(A.A,{children:[(0,x.jsx)(b.A,{onClick:()=>n(r,r-1),icon:(0,x.jsx)(g.A,{})}),(0,x.jsx)(b.A,{onClick:()=>n(r,r+1),icon:(0,x.jsx)(f.A,{})}),(0,x.jsx)(b.A,{onClick:()=>a(e.name),danger:!0,icon:(0,x.jsx)(C.A,{})})]})})]})},e.key))),(0,x.jsx)(l.A.Item,{children:(0,x.jsx)(b.A,{type:"dashed",onClick:()=>s({courtId:q()}),block:!0,icon:(0,x.jsx)(k.A,{}),children:"Agregar lugar"})},"add")]})}}),(0,x.jsx)(l.A.Item,{children:(0,x.jsx)(c.G,{apiState:n,disableReset:s,onReset:y})})]})}var y=s(15625),q=s(37042),S=s(39194);const F="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",_=Array.from(Array(25)).reduce(((e,r,s)=>(e[s]=s%24,e)),{});function E(){const{config:e,setConfig:r}=(0,o.useContext)(d.v),[s,a]=(0,o.useState)(!0),[n,i]=(0,m.g)(u.D9,r),[j]=l.A.useForm(),h=(0,o.useCallback)((()=>{j.resetFields(),a(!0)}),[j]);(0,o.useEffect)((()=>{h()}),[e,h]);const A=(0,o.useCallback)((()=>{s&&a(!1)}),[s]),b=(0,o.useCallback)((e=>{i(null,e,h)}),[i,h]);return(0,x.jsxs)(l.A,{form:j,layout:"vertical",initialValues:e,onFinish:b,onFieldsChange:A,children:[(0,x.jsx)(l.A.Item,{name:"url",label:"URL del sistema de reservas",rules:[{required:!0,message:"La URL es obligatoria"}],children:(0,x.jsx)(t.A,{})}),(0,x.jsx)(l.A.Item,{name:"orgName",label:"Nombre del club",rules:[{required:!0,message:"Se requiere el nombre del club"}],children:(0,x.jsx)(t.A,{})}),(0,x.jsx)(l.A.Item,{name:"timeZone",label:(0,x.jsxs)("span",{children:["Huso horario (",(0,x.jsx)("a",{href:F,target:"_blank",rel:"noreferrer",children:"Nombres de usos horario"}),")"]}),rules:[{required:!0,message:"Se requiere zona horaria"},{validator:(e,r)=>(0,S.wr)(r)?Promise.resolve():Promise.reject("Zona horaria no v\xe1lida")}],children:(0,x.jsx)(t.A,{})}),(0,x.jsx)(l.A.Item,{name:"serverMail",label:"Direcci\xf3n de correo electr\xf3nico utilizado",rules:[{type:"email",message:"Beispiel: mustermann@web.de"},{required:!0,message:"E-Mail es necesario"}],children:(0,x.jsx)(t.A,{})}),(0,x.jsx)(l.A.Item,{name:"reservationDaysInAdvance",label:"N\xfamero de d\xedas que se pueden reservar con antelaci\xf3n",rules:[{required:!0,message:"Se requiere informaci\xf3n"}],children:(0,x.jsx)(y.A,{min:1,max:1825})}),(0,x.jsx)(l.A.Item,{name:"reservationMaxActiveCount",label:"N\xfamero m\xe1ximo de reservas abiertas que un usuario puede realizar",rules:[{required:!0,message:"Se requiere informaci\xf3n"}],children:(0,x.jsx)(y.A,{min:1})}),(0,x.jsx)(l.A.Item,{name:"visibleHours",label:"Horarios mostrados en el calendario.",rules:[{required:!0,message:"Se requiere informaci\xf3n"}],children:(0,x.jsx)(q.A,{marks:_,range:!0,min:0,max:24})}),(0,x.jsx)(l.A.Item,{children:(0,x.jsx)(c.G,{apiState:n,disableReset:s,onReset:h})})]})}const R={wrapper:"GeneralSettingsPage_wrapper__DRuR1"};function N(){return(0,x.jsxs)("div",{className:R.wrapper,children:[(0,x.jsx)("h1",{children:"Anuncio"}),(0,x.jsx)(j,{}),(0,x.jsx)(a.A,{}),(0,x.jsx)("h1",{children:"Gesti\xf3n de lugares"}),(0,x.jsx)(n.A.Text,{children:"El orden determina la visualizaci\xf3n en el calendario de reservas."}),(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),(0,x.jsx)(I,{}),(0,x.jsx)(a.A,{}),(0,x.jsx)("h1",{children:"Ajustes b\xe1sicos"}),(0,x.jsx)(E,{})]})}},12361:(e,r,s)=>{s.d(r,{G:()=>c});var a=s(47419),n=s(11645),l=s(89421),i=s(93954),t=s(70579);function o(e){let{apiState:r}=e;const{success:s,loading:a,error:n}=r;return a?(0,t.jsx)(i.E,{loading:!0,text:"Guardar"}):n?(0,t.jsx)(i.E,{error:!0,text:"No se pudo guardar"}):s?(0,t.jsx)(i.E,{success:!0,text:"Guardado"}):null}function c(e){let{apiState:r={},disableReset:s,onSave:i,onReset:c}=e;return(0,t.jsxs)(a.A,{gutter:[16,16],align:"middle",children:[(0,t.jsx)(n.A,{children:(0,t.jsx)(l.A,{disabled:r.loading,onClick:i,type:"primary",htmlType:"submit",children:"Guardar"})}),(0,t.jsx)(n.A,{children:(0,t.jsx)(l.A,{disabled:r.loading||s,onClick:c,htmlType:"reset",children:"Restablecer los valores predeterminados"})}),(0,t.jsx)(n.A,{children:(0,t.jsx)(o,{apiState:r})})]})}}}]);
//# sourceMappingURL=102.3bd64f67.chunk.js.map