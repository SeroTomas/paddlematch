{"version":3,"file":"static/js/636.be4c439f.chunk.js","mappings":"oPACA,SAAgB,QAAU,gCAAgC,QAAU,iC,0BCU7D,SAASA,IAEZ,MAAM,KAAEC,EAAI,QAAEC,IAAYC,EAAAA,EAAAA,YAAWC,EAAAA,GAC/BC,GAAUC,EAAAA,EAAAA,OACV,YAAEC,IAAgBC,EAAAA,EAAAA,KAElBC,EAAuB,SAAhBF,GACNG,EAAWC,IAAYC,EAAAA,EAAAA,GAAOC,EAAAA,KAC9BC,EAAaC,IAAcH,EAAAA,EAAAA,GAAOI,EAAAA,GAAmBd,IACrDe,EAAeC,IAAoBC,EAAAA,EAAAA,WAAS,GAE7CC,GAAsBC,EAAAA,EAAAA,cAAY,KACpChB,EAAQiB,QAAQ,IAAI,GACrB,CAACjB,IAEEkB,GAAwBF,EAAAA,EAAAA,cAAY,KACtChB,EAAQiB,QAAQ,WAAW,GAC5B,CAACjB,IAEEmB,GAAmBH,EAAAA,EAAAA,cAAY,KACjCH,GAAiB,GACjBP,EAAS,KAAM,CAAEc,KAAMxB,EAAKwB,MAAO,GACpC,CAACd,EAAUV,EAAKwB,OAYnB,OAVAC,EAAAA,EAAAA,YAAU,KACFjB,GACAE,EAAS,KAAM,CAAEc,KAAMxB,EAAKwB,MAAO,GACxC,CAAChB,EAAME,EAAUV,EAAKwB,QAEzBC,EAAAA,EAAAA,YAAU,KACDjB,GACDM,EAAW,KAAM,CAAEY,MAAOpB,GAAc,GAC7C,CAACE,EAAMM,EAAYR,IAElBE,GAEImB,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAOC,QAAQC,UAC3BJ,EAAAA,EAAAA,KAACK,EAAAA,GAAM,CACHC,OAAO,OACPC,MAAM,8DACNC,OACIC,EAAAA,EAAAA,MAAA,OAAAL,SAAA,EACIK,EAAAA,EAAAA,MAAA,OAAAL,SAAA,CAAK,kCAC6BJ,EAAAA,EAAAA,KAAA,UAAAI,SAAa,OAAJ/B,QAAI,IAAJA,OAAI,EAAJA,EAAMwB,WAEjDG,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,OAAAI,SAAK,wGAGLK,EAAAA,EAAAA,MAAA,OAAKR,UAAWC,EAAOQ,QAAQN,SAAA,EAC3BJ,EAAAA,EAAAA,KAACW,EAAAA,EAAM,CACHC,KAAK,OACLC,QAASjB,EACTkB,SAAUhC,EAAUiC,SAAW1B,EAAce,SAChD,wCAGDJ,EAAAA,EAAAA,KAACW,EAAAA,EAAM,CAACC,KAAK,OAAOC,QAASlB,EAAsBS,SAAC,4DAU5ElB,EAAY8B,OACLhB,EAAAA,EAAAA,KAACiB,EAAAA,EAAW,IAEnB/B,EAAY6B,SACLf,EAAAA,EAAAA,KAACkB,EAAAA,EAAI,CAACC,SAAO,EAACC,OAAK,EAACC,MAAI,KAG/BrB,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAOC,QAAQC,UAC3BJ,EAAAA,EAAAA,KAACK,EAAAA,GAAM,CACHC,OAAO,UACPC,MAAM,iDACNC,OACIR,EAAAA,EAAAA,KAACsB,EAAAA,EAAK,CAACC,UAAU,WAAWC,KAAK,QAAOpB,UACpCJ,EAAAA,EAAAA,KAACW,EAAAA,EAAM,CAACC,KAAK,UAAUC,QAASrB,EAAoBY,SAAC,0BAQ7E,C","sources":["webpack://PaddleMatch/./src/user/VerifyMailPage.module.css?287e","user/VerifyMailPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"VerifyMailPage_wrapper__amBYj\",\"buttons\":\"VerifyMailPage_buttons__RQLo6\"};","import { Button, Result, Space } from 'antd';\r\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\r\nimport { postSendVerifyMailApi, postVerifyMailApi } from '../api';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport { Ball } from '../Ball';\r\nimport { ErrorResult } from '../ErrorResult';\r\nimport { authContext } from '../AuthContext';\r\nimport styles from './VerifyMailPage.module.css';\r\nimport { useApi } from '../useApi';\r\n\r\nexport function VerifyMailPage() {\r\n\r\n    const { user, setUser } = useContext(authContext);\r\n    const history = useHistory();\r\n    const { verifyToken } = useParams();\r\n\r\n    const send = verifyToken === 'send';\r\n    const [sendState, sendMail] = useApi(postSendVerifyMailApi);\r\n    const [verifyState, verifyMail] = useApi(postVerifyMailApi, setUser);\r\n    const [resendClicked, setResendClicked] = useState(false);\r\n\r\n    const handleCalendarClick = useCallback(() => {\r\n        history.replace('/');\r\n    }, [history]);\r\n\r\n    const handleChangeMailClick = useCallback(() => {\r\n        history.replace('/profile');\r\n    }, [history]);\r\n\r\n    const handleResendMail = useCallback(() => {\r\n        setResendClicked(true);\r\n        sendMail(null, { mail: user.mail });\r\n    }, [sendMail, user.mail]);\r\n\r\n    useEffect(() => {\r\n        if (send)\r\n            sendMail(null, { mail: user.mail });\r\n    }, [send, sendMail, user.mail]);\r\n\r\n    useEffect(() => {\r\n        if (!send)\r\n            verifyMail(null, { token: verifyToken });\r\n    }, [send, verifyMail, verifyToken]);\r\n\r\n    if (send)\r\n        return (\r\n            <div className={styles.wrapper}>\r\n                <Result\r\n                    status=\"info\"\r\n                    title=\"Por favor confirme su dirección de correo electrónico\"\r\n                    extra={\r\n                        <div>\r\n                            <div>\r\n                                Verifique el correo enviado a <strong>{user?.mail}</strong>\r\n                            </div>\r\n                            <br />\r\n                            <div>\r\n                                Haga clic en el enlace de confirmación para verificar su dirección de correo electrónico.\r\n                            </div>\r\n                            <div className={styles.buttons}>\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    onClick={handleResendMail}\r\n                                    disabled={sendState.loading || resendClicked}\r\n                                >\r\n                                    Reenviar enlace de confirmación\r\n                                </Button>\r\n                                <Button type=\"link\" onClick={handleChangeMailClick}>\r\n                                    Cambiar dirección de correo electrónico\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                />\r\n            </div>\r\n        );\r\n\r\n    if (verifyState.error)\r\n        return <ErrorResult />\r\n\r\n    if (verifyState.loading)\r\n        return <Ball visible large spin />;\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <Result\r\n                status=\"success\"\r\n                title=\"Correo electrónico confirmado exitosamente.\"\r\n                extra={\r\n                    <Space direction=\"vertical\" size=\"large\">\r\n                        <Button type=\"primary\" onClick={handleCalendarClick}>\r\n                            Ir al calendario\r\n                        </Button>\r\n                    </Space>\r\n                }\r\n            />\r\n        </div>\r\n    );\r\n}"],"names":["VerifyMailPage","user","setUser","useContext","authContext","history","useHistory","verifyToken","useParams","send","sendState","sendMail","useApi","postSendVerifyMailApi","verifyState","verifyMail","postVerifyMailApi","resendClicked","setResendClicked","useState","handleCalendarClick","useCallback","replace","handleChangeMailClick","handleResendMail","mail","useEffect","token","_jsx","className","styles","wrapper","children","Result","status","title","extra","_jsxs","buttons","Button","type","onClick","disabled","loading","error","ErrorResult","Ball","visible","large","spin","Space","direction","size"],"sourceRoot":""}