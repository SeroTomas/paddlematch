{"version":3,"file":"static/js/759.f8627656.chunk.js","mappings":"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","sources":["webpack://PaddleMatch/./src/calendar/DatePicker.module.css?5861","calendar/DatePicker.js","webpack://PaddleMatch/./src/calendar/ReservationDetails.module.css?49dd","calendar/ReservationDetails.js","webpack://PaddleMatch/./src/calendar/DateTimeRangeSelect.module.css?5eec","calendar/DateTimeRangeSelect.js","webpack://PaddleMatch/./src/calendar/ScrollRadioGroup.module.css?33e9","calendar/ScrollRadioGroup.js","webpack://PaddleMatch/./src/calendar/ReservationGroupModal.module.css?4cb6","calendar/DisableReservationGroupModal.js","user/LoginModal.js","webpack://PaddleMatch/./src/calendar/RepeatReservationForm.module.css?30f6","calendar/RepeatReservationForm.js","calendar/ReservationTimeSelect.js","webpack://PaddleMatch/./src/calendar/ReservationDetailsForm.module.css?809e","calendar/ReservationDetailsForm.js","calendar/ReservationGroupModal.js","webpack://PaddleMatch/./src/user/VerifyMailModal.module.css?4211","user/VerifyMailModal.js","calendar/ReservationModal.js","calendar/useTime.js","webpack://PaddleMatch/./src/user/LoginForm.module.css?daa5","user/LoginForm.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pickerPanel\":\"DatePicker_pickerPanel__hDpPj\"};","import dayjsGenerateConfig from 'rc-picker/lib/generate/dayjs';\r\nimport generatePicker from 'antd/es/date-picker/generatePicker';\r\nimport styles from './DatePicker.module.css';\r\nimport locale from 'antd/es/date-picker/locale/es_ES';\r\n\r\nconst AntDatePicker = generatePicker(dayjsGenerateConfig);\r\n\r\nexport function DatePicker(props) {\r\n    return (\r\n        <AntDatePicker\r\n            locale={locale}\r\n            inputReadOnly\r\n            size=\"large\"\r\n            panelRender={panel =>\r\n                <div className={styles.pickerPanel}>\r\n                    {panel}\r\n                </div>\r\n            }\r\n            {...props}\r\n        />\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"inline\":\"ReservationDetails_inline__JMObT\",\"wrapper\":\"ReservationDetails_wrapper__E3QzZ\",\"item\":\"ReservationDetails_item__21QTc\",\"title\":\"ReservationDetails_title__P3OaT\",\"content\":\"ReservationDetails_content__GDKWj\"};","import { CalendarOutlined, ClockCircleOutlined, EnvironmentOutlined, RedoOutlined, UserOutlined } from '@ant-design/icons';\r\n\r\nimport React from 'react';\r\nimport classNames from 'classnames/bind';\r\nimport styles from './ReservationDetails.module.css';\r\n\r\nconst cn = classNames.bind(styles);\r\n\r\nexport function ReservationDetails({\r\n    court,\r\n    date,\r\n    inline = false,\r\n    name,\r\n    repeat,\r\n    time,\r\n}) {\r\n    return (\r\n        <div className={cn({\r\n            wrapper: true,\r\n            inline\r\n        })}>\r\n            {name &&\r\n                <div className={styles.item}>\r\n                    <div className={styles.title}>\r\n                        <UserOutlined />&nbsp;Nombre\r\n                    </div>\r\n                    <div className={styles.content}>\r\n                        {name}\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            {date && \r\n                <div className={styles.item}>\r\n                    <div className={styles.title}>\r\n                        <CalendarOutlined />&nbsp;Fecha\r\n                    </div>\r\n                    <div className={styles.content}>\r\n                        {date}\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            {time &&\r\n                <div className={styles.item}>\r\n                    <div className={styles.title}>\r\n                        <ClockCircleOutlined />&nbsp;Hora\r\n                    </div>\r\n                    <div className={styles.content}>\r\n                        {time}\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            {court &&\r\n                <div className={styles.item}>\r\n                    <div className={styles.title}>\r\n                        <EnvironmentOutlined />&nbsp;Lugar\r\n                    </div>\r\n                    <div className={styles.content}>\r\n                        {court}\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            {repeat &&\r\n                <div className={styles.item}>\r\n                    <div className={styles.title}>\r\n                        <RedoOutlined />&nbsp;Repetir\r\n                    </div>\r\n                    <div className={styles.content}>\r\n                        {repeat}\r\n                    </div>\r\n                </div>\r\n            }\r\n        </ div>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"datePicker\":\"DateTimeRangeSelect_datePicker__HfmHA\",\"to\":\"DateTimeRangeSelect_to__1R5G3\"};","import React, { useCallback, useMemo } from 'react';\r\n\r\nimport { DatePicker } from './DatePicker';\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport { Select } from 'antd';\r\nimport styles from './DateTimeRangeSelect.module.css';\r\n\r\nexport function DateTimeRangeSelect({\r\n    disabled = false,\r\n    from,\r\n    to,\r\n    onFromChange,\r\n    onToChange,\r\n}) {\r\n    const hours = useMemo(() => [...Array(24).keys()], []);\r\n\r\n    const updateTimes = useCallback(({ newFrom = from, newTo = to }) => {\r\n        if (newFrom.isAfter(newTo)) {\r\n            const tmp = newFrom;\r\n            newFrom = newTo;\r\n            newTo = tmp;\r\n        } else if (newFrom.isSame(newTo)) {\r\n            newTo = newFrom.add(1, 'hour'); // minimal diff 1 hour\r\n        }\r\n\r\n        if (!newFrom.isSame(from))\r\n            onFromChange(newFrom);\r\n        if (!newTo.isSame(to))\r\n            onToChange(newTo);\r\n    }, [from, onFromChange, onToChange, to]);\r\n\r\n    const handleFromDateChange = useCallback(newFromDate => {\r\n        updateTimes({\r\n            newFrom: newFromDate.hour(from.hour())\r\n        });\r\n    }, [from, updateTimes]);\r\n\r\n    const handleToDateChange = useCallback(newToDate => {\r\n        updateTimes({\r\n            newTo: newToDate.hour(to.hour())\r\n        });\r\n    }, [to, updateTimes]);\r\n\r\n    const handleFromHourChange = useCallback(newFromHour => {\r\n        updateTimes({\r\n            newFrom: from.hour(newFromHour)\r\n        });\r\n    }, [from, updateTimes]);\r\n\r\n    const handleToHourChange = useCallback(newToHour => {\r\n        updateTimes({\r\n            newTo: to.hour(newToHour)\r\n        });\r\n    }, [to, updateTimes]);\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <DatePicker\r\n                    allowClear={false}\r\n                    bordered={false}\r\n                    className={styles.datePicker}\r\n                    disabled={disabled}\r\n                    format=\"L\"\r\n                    onChange={handleFromDateChange}\r\n                    showToday={false}\r\n                    suffixIcon={<DownOutlined />}\r\n                    value={from}\r\n                />\r\n\r\n                <Select\r\n                    size=\"large\"\r\n                    bordered={false}\r\n                    value={from.hour()}\r\n                    onChange={handleFromHourChange}\r\n                >\r\n                    {hours.map(hour => (\r\n                        <Select.Option\r\n                            key={hour}\r\n                            value={hour}\r\n                        >\r\n                            {hour}hs\r\n                        </Select.Option>\r\n                    ))}\r\n                </Select>\r\n\r\n            </div>\r\n\r\n            <div>\r\n                <span className={styles.to}>Hasta</span>\r\n\r\n                <DatePicker\r\n                    allowClear={false}\r\n                    bordered={false}\r\n                    className={styles.datePicker}\r\n                    disabled={disabled}\r\n                    format=\"L\"\r\n                    onChange={handleToDateChange}\r\n                    showToday={false}\r\n                    suffixIcon={<DownOutlined />}\r\n                    value={to}\r\n                />\r\n\r\n                <Select\r\n                    size=\"large\"\r\n                    bordered={false}\r\n                    value={to.hour()}\r\n                    onChange={handleToHourChange}\r\n                >\r\n                    {hours.map(hour => (\r\n                        <Select.Option\r\n                            key={hour}\r\n                            value={hour}\r\n                        >\r\n                            {hour % 24}hs\r\n                        </Select.Option>\r\n                    ))}\r\n                </Select>\r\n            </div>\r\n        </div>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"outer\":\"ScrollRadioGroup_outer__le1zO\",\"inner\":\"ScrollRadioGroup_inner__OtSnf\",\"leftScroll\":\"ScrollRadioGroup_leftScroll__93AE2\",\"rightScroll\":\"ScrollRadioGroup_rightScroll__jam2v\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\n\r\nimport { Radio } from 'antd';\r\nimport classNames from 'classnames/bind';\r\nimport styles from './ScrollRadioGroup.module.css';\r\n\r\nconst cn = classNames.bind(styles);\r\n\r\nconst SCROLL_OFFSET_PX = -50;\r\nconst SCROLL_TRESHOLD_PX = 5; // needed for iOS overscoll\r\n\r\nexport function ScrollRadioGroup({\r\n    children,\r\n    ...rest\r\n}) {\r\n    const innerRef = useRef();\r\n    const [leftScroll, setLeftScroll] = useState(false);\r\n    const [rightScroll, setRightScroll] = useState(false);\r\n\r\n    const updateStops = useCallback(() => {\r\n        if (!innerRef.current)\r\n            return;\r\n        const { scrollLeft, scrollWidth, offsetWidth } = innerRef.current;\r\n        setLeftScroll(scrollLeft > SCROLL_TRESHOLD_PX);\r\n        setRightScroll((scrollWidth - offsetWidth - scrollLeft) > SCROLL_TRESHOLD_PX);\r\n    }, []);\r\n\r\n    useEffect(updateStops, [updateStops]);\r\n\r\n    const handleClick = useCallback(e => {\r\n        if (!innerRef.current)\r\n            return;\r\n        const offsetLeft = e?.target?.parentNode?.parentNode?.offsetLeft || 0;\r\n        requestAnimationFrame(() => {\r\n            innerRef.current.scrollLeft = Math.max(offsetLeft + SCROLL_OFFSET_PX, 0);\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <div className={cn({\r\n            outer: true,\r\n            leftScroll,\r\n            rightScroll,\r\n        })}>\r\n            <div\r\n                className={styles.inner}\r\n                onClick={handleClick}\r\n                onScroll={updateStops}\r\n                ref={innerRef}\r\n            >\r\n                <Radio.Group\r\n                    buttonStyle=\"solid\"\r\n                    size=\"large\"\r\n                    {...rest}\r\n                >\r\n                    {children}\r\n                </Radio.Group>\r\n            </div>\r\n        </div>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ReservationGroupModal_wrapper__Zz0UE\",\"footer\":\"ReservationGroupModal_footer__84trD\",\"heading\":\"ReservationGroupModal_heading__XmfZc\",\"changeReasonHint\":\"ReservationGroupModal_changeReasonHint__wRHqj\",\"cancelRadioGroup\":\"ReservationGroupModal_cancelRadioGroup__R1qM2\"};","import { Button, Form, Input, Modal, Radio, message } from 'antd';\r\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\r\nimport { patchReservationGroupApi, postReservationGroupApi } from '../api';\r\n\r\nimport { DateTimeRangeSelect } from './DateTimeRangeSelect';\r\nimport { ErrorResult } from '../ErrorResult';\r\nimport { RESERVATION_TYPES } from '../ReservationTypes';\r\nimport { ReservationDetails } from './ReservationDetails';\r\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\r\nimport { StatusText } from '../admin/StatusText';\r\nimport { appContext } from '../AppContext';\r\nimport dayjs from 'dayjs';\r\nimport { getCourtName } from '../helper';\r\nimport styles from './ReservationGroupModal.module.css';\r\nimport { useApi } from '../useApi';\r\n\r\nexport function DisableReservationGroupModal({\r\n    initialFrom,\r\n    initialCourtId,\r\n    reservation,\r\n    onFinish,\r\n    setReservations: setOuterReservations,\r\n}) {\r\n    const { config: { visibleHours }, courts } = useContext(appContext);\r\n\r\n    const [reason, setReason] = useState(reservation?.text || '');\r\n    const [from, setFrom] = useState(() => reservation?.from || initialFrom.startOf('day'));\r\n    const [to, setTo] = useState(() => reservation?.to || initialFrom.add(1, 'day').startOf('day'));\r\n    const [courtId, setCourtId] = useState(reservation?.courtId || initialCourtId);\r\n    const prevErrorRef = useRef({});\r\n\r\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setOuterReservations);\r\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setOuterReservations);\r\n\r\n    const loading = postState.loading || patchState.loading;\r\n    const changed = reservation && (\r\n        reservation.from !== from\r\n        || reservation.to !== to\r\n        || reservation.text !== reason\r\n        || reservation.courtId !== courtId\r\n    );\r\n\r\n    const unavailableReservations = useMemo(() => {\r\n        let uaRes = postState.error?.unavailableReservations || patchState.error?.unavailableReservations;\r\n        if (uaRes)\r\n            uaRes = uaRes.map(({ courtId, from, to }) => ({\r\n                courtId,\r\n                from: dayjs(from),\r\n                to: dayjs(to),\r\n            }));\r\n        return uaRes;\r\n    }, [patchState.error?.unavailableReservations, postState.error?.unavailableReservations]);\r\n\r\n    const handleChangeReason = useCallback(e => {\r\n        setReason(e.target.value);\r\n    }, []);\r\n\r\n    const handleCourtIdChange = useCallback(e => {\r\n        setCourtId(e.target.value);\r\n    }, []);\r\n\r\n    const handleDisableCourt = useCallback(() => {\r\n        const doDisable = () => {\r\n            if (!reservation) {\r\n                postReservationGroup(null, {\r\n                    reservations: [{ courtId, from, to }],\r\n                    text: reason,\r\n                    type: RESERVATION_TYPES.DISABLE,\r\n                }, () => {\r\n                    message.success(\"Reserva exitosa\");\r\n                    onFinish();\r\n                });\r\n            } else {\r\n                patchReservationGroup({\r\n                    path: {\r\n                        groupId: reservation.groupId\r\n                    }\r\n                }, {\r\n                    reservations: [{ courtId, from, to }],\r\n                    text: reason,\r\n                }, () => {\r\n                    message.success(\"Reserva exitosa\");\r\n                    onFinish();\r\n                });\r\n            }\r\n        };\r\n\r\n        let checkDate;\r\n        if (from.hour() <= visibleHours[0])\r\n            checkDate = from.hour(visibleHours[0]);\r\n        else if (from.hour() >= visibleHours[1])\r\n            checkDate = from.add(1, 'day').hour(visibleHours[0]);\r\n\r\n        if (checkDate?.isSameOrAfter(to, 'hour')) {\r\n            Modal.error({\r\n                icon: false,\r\n                title: 'Reserva no permitida',\r\n                width: 530,\r\n                centered: true,\r\n                content: 'El Reserva está fuera del período mostrado.',\r\n            });\r\n        } else {\r\n            Modal.confirm({\r\n                icon: false,\r\n                title: '¿Realmente bloquear?',\r\n                okText: 'Sperren',\r\n                okType: 'danger',\r\n                width: 530,\r\n                centered: true,\r\n                content: 'Las reservas existentes que entren en conflicto con el bloqueo serán canceladas automáticamente. Los titulares de las reservas serán informados de ello vía correo electrónico.',\r\n                onOk: doDisable,\r\n            });\r\n        }\r\n    }, [courtId, from, onFinish, patchReservationGroup, postReservationGroup, reason, reservation, to, visibleHours]);\r\n\r\n    const handleRemoveDisable = useCallback(() => {\r\n        patchReservationGroup({\r\n            path: {\r\n                groupId: reservation.groupId\r\n            }\r\n        }, {\r\n            reservations: [],\r\n        }, () => {\r\n            message.success(\"Bloqueo levantado\");\r\n            onFinish();\r\n        });\r\n    }, [onFinish, patchReservationGroup, reservation?.groupId]);\r\n\r\n    useEffect(() => {\r\n        if (prevErrorRef.current.post === postState.error\r\n            && prevErrorRef.current.patch === patchState.error)\r\n            return;\r\n        prevErrorRef.current.post = postState.error;\r\n        prevErrorRef.current.patch = patchState.error;\r\n\r\n        if (unavailableReservations) {\r\n            Modal.error({\r\n                centered: true,\r\n                title: 'Error de bloqueo',\r\n                content: (\r\n                    <div>\r\n                        <div>\r\n                            Ya existe un bloqueo para los siguientes periodos:\r\n                        </div>\r\n                        <ul>\r\n                            {unavailableReservations.map(({ courtId, from, to }) => (\r\n                                <li key={from}>{from.format('dd[\\xa0]L,[\\xa0]H[\\xa0][Uhr]')} bis {to.format('dd[\\xa0]L,[\\xa0]H[\\xa0][Uhr]')}, {getCourtName(courts, courtId)}</li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                )\r\n            });\r\n        }\r\n    }, [courts, patchState.error, postState.error, unavailableReservations])\r\n\r\n    if (\r\n        (postState.error && !postState.error.unavailableReservations)\r\n        || (patchState.error && !patchState.error.unavailableReservations)\r\n    ) {\r\n        return (\r\n            <Modal\r\n                title=\"Error de bloqueo\"\r\n                visible={true}\r\n                centered\r\n                onCancel={onFinish}\r\n                onOk={onFinish}\r\n                footer={\r\n                    <div className={styles.footer}>\r\n                        <Button onClick={onFinish}>\r\n                            Cancelar\r\n                        </Button>\r\n                    </div>\r\n                }\r\n            >\r\n                <div className={styles.wrapper}>\r\n                    <ErrorResult />\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"Espacio de bloque\"\r\n            visible={true}\r\n            width={530}\r\n            centered\r\n            onCancel={onFinish}\r\n            onOk={onFinish}\r\n            footer={loading ?\r\n                (\r\n                    <StatusText\r\n                        loading\r\n                        text=\"Espere por favor...\"\r\n                    />\r\n                ) : (\r\n                    <div className={styles.footer}>\r\n                        <Button onClick={onFinish}>\r\n                            Cancelar\r\n                        </Button>\r\n                        {reservation &&\r\n                            <Button\r\n                                type=\"primary\"\r\n                                onClick={handleRemoveDisable}\r\n                            >\r\n                                Eliminar bloqueo\r\n                            </Button>\r\n                        }\r\n                        <Button\r\n                            disabled={reservation && !changed}\r\n                            type=\"danger\"\r\n                            onClick={handleDisableCourt}\r\n                        >\r\n                            Bloqueo\r\n                        </Button>\r\n                    </div>\r\n                )\r\n            }\r\n        >\r\n            <div className={styles.wrapper}>\r\n                <ReservationDetails\r\n                    court={\r\n                        <ScrollRadioGroup\r\n                            disabled={loading}\r\n                            onChange={handleCourtIdChange}\r\n                            value={courtId}\r\n                        >\r\n                            {courts.map(({ courtId, name }) => (\r\n                                <Radio.Button key={courtId} value={courtId}>{name}</Radio.Button>\r\n                            ))}\r\n                        </ScrollRadioGroup>\r\n                    }\r\n                    date={\r\n                        <DateTimeRangeSelect\r\n                            disabled={loading}\r\n                            from={from}\r\n                            to={to}\r\n                            onFromChange={setFrom}\r\n                            onToChange={setTo}\r\n                        />\r\n                    }\r\n                />\r\n\r\n                <Form layout=\"vertical\">\r\n                    <Form.Item\r\n                        label=\"Grund der Sperrung\"\r\n                    >\r\n                        <Input\r\n                            disabled={loading}\r\n                            onChange={handleChangeReason}\r\n                            placeholder=\"Kein Grund\"\r\n                            value={reason}\r\n                        />\r\n                        <div className={styles.changeReasonHint}>\r\n                        Las reservas existentes serán canceladas.\r\n                        </div>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        </Modal>\r\n    );\r\n}","import { LoginForm } from './LoginForm';\r\nimport { Modal } from 'antd';\r\nimport React from 'react';\r\n\r\nexport function LoginModal({\r\n    onClose\r\n}) {\r\n    return (\r\n        <Modal\r\n            title=\"Se requiere inicio de sesion\"\r\n            visible={true}\r\n            width={400}\r\n            centered\r\n            onCancel={onClose}\r\n            onOk={onClose}\r\n            footer={null}\r\n        >\r\n            <LoginForm />\r\n        </Modal>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"RepeatReservationForm_wrapper__32G50\",\"dates\":\"RepeatReservationForm_dates__UWvuQ\",\"extra\":\"RepeatReservationForm_extra__DEIZK\",\"unchecked\":\"RepeatReservationForm_unchecked__BLlpi\",\"date\":\"RepeatReservationForm_date__353n5\",\"dateButton\":\"RepeatReservationForm_dateButton__Tdwo+\",\"danger\":\"RepeatReservationForm_danger__nNm39\",\"buttons\":\"RepeatReservationForm_buttons__KePjR\"};","import { Button, Radio } from 'antd';\r\nimport { DeleteOutlined, LockOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\r\n\r\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\r\nimport { appContext } from '../AppContext';\r\nimport { authContext } from '../AuthContext';\r\nimport classNames from 'classnames/bind';\r\nimport styles from './RepeatReservationForm.module.css';\r\nimport { useTime } from './useTime';\r\n\r\nconst cn = classNames.bind(styles);\r\n\r\nconst defaultRepeatValuesMap = {\r\n    1: 'Diario',\r\n    7: 'Semanal',\r\n    14: 'Bi-Semanal',\r\n};\r\n\r\nexport function RepeatReservationForm({\r\n    courtId,\r\n    currentReservations,\r\n    defaultAddCount = 2,\r\n    disabled = false,\r\n    from,\r\n    onChange,\r\n    repeatValuesMap = defaultRepeatValuesMap,\r\n    to,\r\n    unavailableReservations,\r\n}) {\r\n    const { user } = useContext(authContext);\r\n    const { config: { reservationDaysInAdvance } } = useContext(appContext);\r\n\r\n    const now = useTime('hour');\r\n\r\n    const [repeatValue, setRepeatValue] = useState(0);\r\n    const [visibleDates, setVisibleDates] = useState([]);\r\n    const [selectedDates, _setSelectedDates] = useState([]);\r\n    const prevValRef = useRef({});\r\n\r\n    const dateToReservation = useCallback(from => ({\r\n        courtId,\r\n        from,\r\n        to: from.hour(to.hour() || 24),\r\n    }), [courtId, to]);\r\n\r\n    const checkIfTooFarAhead = useCallback(date => (\r\n        !user?.admin && date.isAfter(now.add(reservationDaysInAdvance, 'day'), 'day')\r\n    ), [now, reservationDaysInAdvance, user?.admin]);\r\n\r\n    const checkIfNotAvailable = useCallback(date => {\r\n        if (!unavailableReservations)\r\n            return false;\r\n        const r1 = dateToReservation(date);\r\n        return unavailableReservations.some(r2 => (\r\n            r1.courtId === r2.courtId\r\n            && r1.from.isSame(r2.from, 'hour')\r\n            && r1.to.isSame(r2.to, 'hour')\r\n        ));\r\n    }, [unavailableReservations, dateToReservation]);\r\n\r\n    const setSelectedDates = useCallback(selectedDates => {\r\n        _setSelectedDates(_selectedDates => {\r\n            let dates = selectedDates;\r\n            if (typeof selectedDates === 'function')\r\n                dates = selectedDates(_selectedDates);\r\n            return dates.filter(d => !checkIfNotAvailable(d) && !checkIfTooFarAhead(d));\r\n        });\r\n    }, [checkIfNotAvailable, checkIfTooFarAhead]);\r\n\r\n    useEffect(() => {\r\n        onChange(selectedDates.map(dateToReservation));\r\n    }, [selectedDates, onChange, dateToReservation]);\r\n\r\n    // automatically unchecks unavailable dates if unavailableDates changes\r\n    // or time/config changes\r\n    useEffect(() => setSelectedDates(s => s), [setSelectedDates]);\r\n\r\n    const reset = useCallback(() => {\r\n        let selectedDates = [];\r\n        let visibleDates = [];\r\n\r\n        if (currentReservations?.length > 1) {\r\n            selectedDates = currentReservations.map(r => r.from.hour(from.hour()));\r\n            selectedDates.sort((a, b) => a.valueOf() - b.valueOf());\r\n            let repeatValue = Number.MAX_SAFE_INTEGER;\r\n\r\n            if (selectedDates.length > 1) {\r\n                for (let i = 1; i < selectedDates.length; ++i) {\r\n                    const diff = selectedDates[i - 1].diff(selectedDates[i], 'day');\r\n                    repeatValue = Math.min(repeatValue, Math.abs(diff));\r\n                }\r\n            }\r\n\r\n            repeatValue = repeatValue.toString();\r\n            const allowedValues = Object.keys(repeatValuesMap);\r\n            if (!allowedValues.includes(repeatValue))\r\n                repeatValue = allowedValues[0];\r\n            setRepeatValue(repeatValue);\r\n\r\n            const first = selectedDates[0];\r\n            const last = selectedDates[selectedDates.length - 1];\r\n            const count = Math.abs(first.diff(last, 'day') / repeatValue);\r\n            visibleDates = [];\r\n            for (let i = 0; i <= count; ++i)\r\n                visibleDates.push(first.add(i * repeatValue, 'day'));\r\n        } else if (repeatValue > 0) {\r\n            for (let i = 0; i <= defaultAddCount; ++i) {\r\n                const date = from.add(i * repeatValue, 'day');\r\n                visibleDates.push(date);\r\n                selectedDates.push(date);\r\n            }\r\n        } else {\r\n            selectedDates = [from];\r\n            visibleDates = [from];\r\n        }\r\n\r\n        setVisibleDates(visibleDates);\r\n        setSelectedDates(selectedDates);\r\n    }, [currentReservations, defaultAddCount, from, repeatValue, repeatValuesMap, setSelectedDates]);\r\n\r\n    useEffect(() => {\r\n        if (\r\n            prevValRef.current.courtId !== courtId\r\n            || prevValRef.current.currentReservations !== currentReservations\r\n            || prevValRef.current.from !== from\r\n            || prevValRef.current.repeatValue !== repeatValue\r\n            || prevValRef.current.to !== to\r\n        ) {\r\n            prevValRef.current.courtId = courtId;\r\n            prevValRef.current.currentReservations = currentReservations;\r\n            prevValRef.current.from = from;\r\n            prevValRef.current.repeatValue = repeatValue;\r\n            prevValRef.current.to = to;\r\n            reset();\r\n        }\r\n    }, [courtId, currentReservations, from, repeatValue, reset, to]);\r\n\r\n    const addDate = useCallback(() => {\r\n        setVisibleDates(visibleDates => {\r\n            const last = visibleDates[visibleDates.length - 1];\r\n            const add = last.add(repeatValue, 'day');\r\n            setSelectedDates(selectedDates => [...selectedDates, add]);\r\n            return [...visibleDates, add];\r\n        });\r\n    }, [repeatValue, setSelectedDates]);\r\n\r\n    const handleRepeatValueChange = useCallback(e => {\r\n        const newRepeatValue = e.target.value;\r\n        setRepeatValue(newRepeatValue);\r\n    }, []);\r\n\r\n    const handleCheckedChange = useCallback((date, checked) => {\r\n        setSelectedDates(selectedDates => {\r\n            // change checked state\r\n            const newSelection = selectedDates.filter(d => !d.isSame(date, 'day'));\r\n            if (checked)\r\n                newSelection.push(date);\r\n            newSelection.sort((a, b) => a.valueOf() - b.valueOf());\r\n\r\n            // remove unchecked visible dates at end\r\n            // setVisibleDates(visibleDates => {\r\n            //     const newVisibleDates = [...visibleDates];\r\n            //     // i > 0: make sure at least one item is visible\r\n            //     for (let i = newVisibleDates.length - 1; i > 0; --i) {\r\n            //         if (\r\n            //             currentReservations?.some(r => r.from.isSame(newVisibleDates[i], 'day'))\r\n            //             || newSelection.some(d => d.isSame(newVisibleDates[i], 'day'))\r\n            //         ) {\r\n            //             break;\r\n            //         }\r\n            //         newVisibleDates.pop();\r\n            //     }\r\n            //     return newVisibleDates;\r\n            // });\r\n\r\n            return newSelection;\r\n        });\r\n    }, [setSelectedDates]);\r\n\r\n    const dates = useMemo(() => {\r\n        return visibleDates.map(d => {\r\n            const r = dateToReservation(d);\r\n            const reserved = currentReservations?.some(cr =>\r\n                cr.from.isSame(r.from, 'hour') && cr.to.isSame(r.to, 'hour'));\r\n            const checked = selectedDates.some(sd => sd.isSame(d, 'day'));\r\n            return {\r\n                date: d,\r\n                checked,\r\n                change: !reserved && currentReservations?.some(r => r.from.isSame(d, 'day')),\r\n                reserved,\r\n                past: d.isBefore(now, 'hour'),\r\n                notAvailable: checkIfNotAvailable(d),\r\n                tooFarAhead: checkIfTooFarAhead(d),\r\n                onClick: () => handleCheckedChange(d, !checked),\r\n            };\r\n        });\r\n    }, [\r\n        checkIfNotAvailable,\r\n        checkIfTooFarAhead,\r\n        currentReservations,\r\n        dateToReservation,\r\n        handleCheckedChange,\r\n        now,\r\n        selectedDates,\r\n        visibleDates,\r\n    ]);\r\n\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div>\r\n                <ScrollRadioGroup\r\n                    disabled={currentReservations?.length > 1 || disabled}\r\n                    onChange={handleRepeatValueChange}\r\n                    value={repeatValue}\r\n                >\r\n                    <Radio.Button key={0} value={0}>Hoy</Radio.Button>\r\n                    {Object.keys(repeatValuesMap).map(value => (\r\n                        <Radio.Button key={value} value={value}>{repeatValuesMap[value]}</Radio.Button>\r\n                    ))}\r\n                </ScrollRadioGroup>\r\n            </div>\r\n\r\n            {repeatValue > 0 &&\r\n                <>\r\n                    <div className={styles.dates}>\r\n                        {dates.map(({ date, checked, change, reserved, past, notAvailable, tooFarAhead, onClick }) => (\r\n                            <Button\r\n                                key={date}\r\n                                className={cn({\r\n                                    dateButton: true,\r\n                                    unchecked: !checked,\r\n                                    danger: (reserved && !checked) || notAvailable,\r\n                                })}\r\n                                disabled={(!user?.admin && (past || tooFarAhead)) || notAvailable || disabled}\r\n                                onClick={onClick}\r\n                                type=\"link\"\r\n                                icon={\r\n                                    ((!user?.admin && (past || tooFarAhead)) || notAvailable || disabled)\r\n                                        ? <LockOutlined />\r\n                                        : checked ? <DeleteOutlined /> : <PlusOutlined />\r\n                                }\r\n                            >\r\n                                <span className={styles.date}>{date.format('dd[\\xa0]L')}</span>\r\n                                {!past && reserved && checked && <span className={styles.extra}>Aktuell reserviert</span>}\r\n                                {!past && reserved && !checked && <span className={styles.extra}>Wird storniert</span>}\r\n                                {!notAvailable && past && <span className={styles.extra}>Bereits vergangen</span>}\r\n                                {!notAvailable && tooFarAhead && <span className={styles.extra}>Zu weit in der Zukunft</span>}\r\n                                {!notAvailable && change && <span className={styles.extra}>Wird geändert</span>}\r\n                                {notAvailable && <span className={styles.extra}>Nicht verfügbar</span>}\r\n                            </Button>\r\n                        ))}\r\n                    </div>\r\n                    <div className={styles.buttons}>\r\n                        <Button\r\n                            disabled={disabled}\r\n                            icon={<PlusOutlined />}\r\n                            onClick={addDate}\r\n                            type=\"dashed\"\r\n                        />\r\n                    </div>\r\n                </>\r\n            }\r\n        </div>\r\n    );\r\n}","import React, { useCallback, useContext, useEffect, useMemo } from 'react';\r\nimport { Select, Space } from 'antd';\r\n\r\nimport { appContext } from '../AppContext';\r\nimport { visibleHoursToHoursArray } from '../helper';\r\n\r\nexport function ReservationTimeSelect({\r\n    disabled = false,\r\n    from,\r\n    to, // don't use to.hour() to set new hour, as it can be bubbled to the next day\r\n    onFromChange,\r\n    onToChange,\r\n}) {\r\n    const { config: { visibleHours } } = useContext(appContext);\r\n\r\n    const hours = useMemo(() => visibleHoursToHoursArray(visibleHours), [visibleHours]);\r\n\r\n    const toHours = useMemo(() => hours.reduce((toHours, h) => {\r\n        if (h >= from.hour())\r\n            toHours.push(h + 1);\r\n        return toHours;\r\n    }, []), [from, hours]);\r\n\r\n    useEffect(() => {\r\n        if (from.isSame(to, 'hour'))\r\n            onToChange(from.add(1, 'hour'));\r\n    }, [from, to, onToChange]);\r\n\r\n    const handleFromChange = useCallback(newFromHour => {\r\n        const diff = Math.abs(to.diff(from, 'hour'));\r\n        let newToHour = newFromHour + diff;\r\n        if (!hours.includes(newToHour))\r\n            newToHour = hours[hours.length - 1] + 1;\r\n        onFromChange(from.hour(newFromHour));\r\n        onToChange(from.hour(newToHour));\r\n    }, [from, to, onFromChange, onToChange, hours]);\r\n\r\n    const handleToChange = useCallback(newToHour => {\r\n        onToChange(from.hour(newToHour));\r\n    }, [from, onToChange]);\r\n\r\n    return (\r\n        <Space direction=\"horizontal\" size=\"middle\">\r\n            <Select\r\n                bordered={false}\r\n                disabled={disabled}\r\n                onChange={handleFromChange}\r\n                size=\"large\"\r\n                value={from.hour()}\r\n            >\r\n                {hours.map(hour => (\r\n                    <Select.Option\r\n                        key={hour}\r\n                        value={hour}\r\n                    >\r\n                        {hour}hs\r\n                    </Select.Option>\r\n                ))}\r\n            </Select>\r\n\r\n            <span>hasta</span>\r\n\r\n            <Select\r\n                bordered={false}\r\n                disabled={disabled}\r\n                onChange={handleToChange}\r\n                size=\"large\"\r\n                value={to.hour() === 0 ? 24 : to.hour()}\r\n            >\r\n                {toHours.map(hour => (\r\n                    <Select.Option\r\n                        key={hour}\r\n                        value={hour}\r\n                    >\r\n                        {hour % 24}hs\r\n                    </Select.Option>\r\n                ))}\r\n            </Select>\r\n        </Space>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"nameInput\":\"ReservationDetailsForm_nameInput__BE5wL\",\"plain\":\"ReservationDetailsForm_plain__mpbQ6\",\"datePicker\":\"ReservationDetailsForm_datePicker__-Ajbu\"};","import { Button, Input, Radio } from 'antd';\r\nimport { DownOutlined, EditOutlined } from '@ant-design/icons';\r\nimport React, { useCallback, useContext, useState } from 'react';\r\n\r\nimport { DatePicker } from './DatePicker';\r\nimport { RepeatReservationForm } from './RepeatReservationForm';\r\nimport { ReservationDetails } from './ReservationDetails';\r\nimport { ReservationTimeSelect } from './ReservationTimeSelect';\r\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\r\nimport { appContext } from '../AppContext';\r\nimport { authContext } from '../AuthContext';\r\nimport { getCourtName } from '../helper';\r\nimport styles from './ReservationDetailsForm.module.css';\r\n\r\nexport function ReservationDetailsForm({\r\n    courtId,\r\n    currentReservations,\r\n    disabled,\r\n    from,\r\n    onCourtIdChange,\r\n    onFromChange,\r\n    onReservationsChange,\r\n    onTextChange,\r\n    onToChange,\r\n    readOnly,\r\n    text,\r\n    to,\r\n    unavailableReservations,\r\n}) {\r\n    const { courts } = useContext(appContext);\r\n    const { user } = useContext(authContext);\r\n\r\n    const [editName, setEditName] = useState(false);\r\n    const handleEditName = useCallback(() => {\r\n        setEditName(true);\r\n    }, []);\r\n\r\n    const handleCancelEditName = useCallback(() => {\r\n        setEditName(false);\r\n        onTextChange(null);\r\n    }, [onTextChange]);\r\n\r\n    const handleDateChange = useCallback(date => {\r\n        const diff = Math.abs(to.diff(from, 'hour'));\r\n        const newFrom = date.hour(from.hour());\r\n        const newTo = newFrom.add(diff, 'hour');\r\n        onFromChange(newFrom);\r\n        onToChange(newTo);\r\n    }, [from, to, onFromChange, onToChange]);\r\n\r\n    const handleTextChange = useCallback(e => {\r\n        onTextChange(e.target.value);\r\n    }, [onTextChange]);\r\n\r\n    const handleCourtIdChange = useCallback(e => {\r\n        onCourtIdChange(e.target.value);\r\n    }, [onCourtIdChange]);\r\n\r\n    if (readOnly)\r\n        return (\r\n            <ReservationDetails\r\n                court={\r\n                    <div className={styles.plain}>\r\n                        {getCourtName(courts, courtId)}\r\n                    </div>\r\n                }\r\n                date={\r\n                    <div className={styles.plain}>\r\n                        {from.format('dd[\\xa0]L')}\r\n                    </div>\r\n                }\r\n                time={\r\n                    <div className={styles.plain}>\r\n                        {from.format('H')} hs hasta {to.format('H')} hs\r\n                    </div>\r\n                }\r\n                name={\r\n                    <div className={styles.plain}>\r\n                        {currentReservations?.[0]?.text || currentReservations?.[0]?.name || user.name}\r\n                    </div>\r\n                }\r\n            />\r\n\r\n        );\r\n\r\n    return (\r\n        <ReservationDetails\r\n            court={\r\n                <ScrollRadioGroup\r\n                    disabled={disabled}\r\n                    onChange={handleCourtIdChange}\r\n                    value={courtId}\r\n                >\r\n                    {courts.map(({ courtId, name }) => (\r\n                        <Radio.Button key={courtId} value={courtId}>{name}</Radio.Button>\r\n                    ))}\r\n                </ScrollRadioGroup>\r\n            }\r\n            date={\r\n                <DatePicker\r\n                    allowClear={false}\r\n                    bordered={false}\r\n                    className={styles.datePicker}\r\n                    disabled={currentReservations?.length > 1 || disabled}\r\n                    format=\"L\"\r\n                    onChange={handleDateChange}\r\n                    showToday={false}\r\n                    suffixIcon={<DownOutlined />}\r\n                    value={from}\r\n                />\r\n            }\r\n            time={\r\n                <ReservationTimeSelect\r\n                    disabled={disabled}\r\n                    from={from}\r\n                    to={to}\r\n                    onFromChange={onFromChange}\r\n                    onToChange={onToChange}\r\n                />\r\n            }\r\n            name={editName ?\r\n                (\r\n                    <>\r\n                        <Input\r\n                            className={styles.nameInput}\r\n                            disabled={disabled}\r\n                            onChange={handleTextChange}\r\n                            placeholder=\"z.B. Training, ...\"\r\n                            value={text}\r\n                            size=\"large\"\r\n                        />\r\n                        <Button\r\n                            disabled={disabled}\r\n                            onClick={handleCancelEditName}\r\n                            type='link'\r\n                        >\r\n                            Cancelar\r\n                        </Button>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <div className={styles.plain}>\r\n                            <span>\r\n                                {currentReservations?.[0]?.text || currentReservations?.[0]?.name || user.name}\r\n                            </span>\r\n                        </div>\r\n                        {user.admin &&\r\n                            <Button\r\n                                disabled={disabled}\r\n                                onClick={handleEditName}\r\n                                type='link'\r\n                            >\r\n                                <EditOutlined /> editar\r\n                            </Button>\r\n                        }\r\n                    </>\r\n                )\r\n            }\r\n            repeat={\r\n                <RepeatReservationForm\r\n                    courtId={courtId}\r\n                    currentReservations={currentReservations}\r\n                    disabled={disabled}\r\n                    from={from}\r\n                    onChange={onReservationsChange}\r\n                    to={to}\r\n                    unavailableReservations={unavailableReservations}\r\n                />\r\n            }\r\n        />\r\n    );\r\n}","import { Button, Form, Input, Modal, Radio, message } from 'antd';\r\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\r\nimport { getReservationsApi, patchReservationGroupApi, postReservationGroupApi } from '../api';\r\n\r\nimport { Ball } from '../Ball';\r\nimport { ErrorResult } from '../ErrorResult';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { RESERVATION_TYPES } from '../ReservationTypes';\r\nimport { ReservationDetailsForm } from './ReservationDetailsForm';\r\nimport { StatusText } from '../admin/StatusText';\r\nimport { appContext } from '../AppContext';\r\nimport { authContext } from '../AuthContext';\r\nimport dayjs from 'dayjs';\r\nimport { getCourtName } from '../helper';\r\nimport styles from './ReservationGroupModal.module.css';\r\nimport { useApi } from '../useApi';\r\n\r\nexport function ReservationGroupModal({\r\n    initialCourtId,\r\n    initialFrom,\r\n    initialTo,\r\n    reservation,\r\n    onFinish,\r\n    setReservations: setOuterReservations,\r\n}) {\r\n    const { courts, templates: { reservationTos } } = useContext(appContext);\r\n    const { user } = useContext(authContext);\r\n\r\n    const [changeReason, setChangeReason] = useState('');\r\n    const [text, setText] = useState(null);\r\n    const [reservations, setReservations] = useState(null);\r\n    const [from, setFrom] = useState(reservation?.from || initialFrom);\r\n    const [to, setTo] = useState(reservation?.to || initialTo);\r\n    const [courtId, setCourtId] = useState(reservation?.courtId || initialCourtId);\r\n    const prevErrorRef = useRef({});\r\n\r\n    const [groupReservations, setGroupReservations] = useState([]);\r\n    const [state, getGroupReservations] = useApi(getReservationsApi, setGroupReservations);\r\n\r\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setOuterReservations);\r\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setOuterReservations);\r\n\r\n    const loading = state.loading || postState.loading || patchState.loading;\r\n\r\n    const adminEdit = reservation && user.admin && reservation?.userId !== user.userId;\r\n    const canEdit = user.admin || !reservation || reservation.userId === user.userId;\r\n\r\n    const newReservations = useMemo(() => reservations?.filter(\r\n        r => !groupReservations.some(gr => gr.from.isSame(r.from, 'hour') && gr.to.isSame(r.to, 'hour'))\r\n    ), [reservations, groupReservations]);\r\n    const cancelReservations = useMemo(() => reservations && groupReservations.filter(\r\n        gr => !reservations.some(r => r.from.isSame(gr.from, 'hour') && r.to.isSame(gr.to, 'hour'))\r\n    ), [reservations, groupReservations]);\r\n    const changeText = !!(groupReservations && text);\r\n\r\n    const unavailableReservations = useMemo(() => {\r\n        let uaRes = postState.error?.unavailableReservations || patchState.error?.unavailableReservations;\r\n        if (uaRes)\r\n            uaRes = uaRes.map(({ courtId, from, to }) => ({\r\n                courtId,\r\n                from: dayjs(from),\r\n                to: dayjs(to),\r\n            }));\r\n        return uaRes;\r\n    }, [patchState.error?.unavailableReservations, postState.error?.unavailableReservations]);\r\n\r\n    useEffect(() => {\r\n        if (reservation?.groupId)\r\n            getGroupReservations({ query: { 'group-id': reservation?.groupId } });\r\n    }, [reservation, getGroupReservations]);\r\n\r\n    const handleChangeChangeReason = useCallback(e => {\r\n        setChangeReason(e.target.value);\r\n    }, []);\r\n\r\n    const handlePostReservation = useCallback(() => {\r\n        const doPost = () => {\r\n            postReservationGroup(null, {\r\n                reservations,\r\n                text,\r\n                type: RESERVATION_TYPES.NORMAL,\r\n            }, () => {\r\n                message.success(\"Reserva exitosa\");\r\n                onFinish();\r\n            });\r\n        };\r\n\r\n        Modal.confirm({\r\n            icon: false,\r\n            okText: 'Aceptar',\r\n            width: 530,\r\n            centered: true,\r\n            content: (\r\n                <div dangerouslySetInnerHTML={{ __html: reservationTos.body }} />\r\n            ),\r\n            onOk: doPost,\r\n        });\r\n    }, [\r\n        onFinish,\r\n        postReservationGroup,\r\n        reservations,\r\n        reservationTos,\r\n        text,\r\n    ]);\r\n\r\n    const handleChangeReservation = useCallback(() => {\r\n        const doChange = () => {\r\n            patchReservationGroup({\r\n                path: {\r\n                    groupId: reservation.groupId\r\n                }\r\n            }, {\r\n                reason: adminEdit ? changeReason : undefined,\r\n                reservations,\r\n                text,\r\n            }, () => {\r\n                message.success(\"Guardado con éxito\");\r\n                onFinish();\r\n            });\r\n        };\r\n\r\n        Modal.confirm({\r\n            title: '¿Realmente quiere guardar?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            centered: true,\r\n            content: (\r\n                <div className={styles.wrapper}>\r\n\r\n                    {newReservations.length > 0 &&\r\n                        <>\r\n                            <div className={styles.heading}>Nuevas fechas</div>\r\n                            <ul>\r\n                                {newReservations.map(({ courtId, from, to }) => (\r\n                                    <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;hs, {getCourtName(courts, courtId)}</li>\r\n                                ))}\r\n                            </ul>\r\n                        </>\r\n                    }\r\n\r\n                    {cancelReservations.length > 0 &&\r\n                        <>\r\n                            <div className={styles.heading}>Cancelar</div>\r\n                            <ul>\r\n                                {cancelReservations.map(({ courtId, from, to }) => (\r\n                                    <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;hs, {getCourtName(courts, courtId)}</li>\r\n                                ))}\r\n                            </ul>\r\n                        </>\r\n                    }\r\n\r\n                    {changeText &&\r\n                        <>\r\n                            <div className={styles.heading}>Cambios</div>\r\n                            <ul>\r\n                                <li>Name: <strong>{text}</strong></li>\r\n                            </ul>\r\n                        </>\r\n                    }\r\n\r\n                </div>\r\n            ),\r\n            okText: 'Confirmar',\r\n            okType: 'danger',\r\n            cancelText: 'Cancelar',\r\n            onOk: doChange\r\n        });\r\n    }, [\r\n        adminEdit,\r\n        cancelReservations,\r\n        changeReason,\r\n        changeText,\r\n        courts,\r\n        newReservations,\r\n        onFinish,\r\n        patchReservationGroup,\r\n        reservation,\r\n        reservations,\r\n        text,\r\n    ]);\r\n\r\n\r\n    const handleCancelReservation = useCallback(() => {\r\n        let cancelType = 'single';\r\n\r\n        const handleCancelTypeChange = e => (cancelType = e.target.value);\r\n\r\n        const doDelete = () => {\r\n            const reqParams = {\r\n                path: {\r\n                    groupId: reservation.groupId\r\n                }\r\n            };\r\n            const cb = () => {\r\n                message.success(\"Cancelación exitosa\");\r\n                onFinish();\r\n            }\r\n\r\n            let reservations;\r\n            if (cancelType === 'single') {\r\n                reservations = groupReservations.filter(r => !r.from.isSame(reservation.from, 'day'));\r\n            } else if (cancelType === 'allActive') {\r\n                reservations = groupReservations.filter(r => r.from.isBefore(dayjs(), 'hour'));\r\n            } else {\r\n                reservations = [];\r\n            }\r\n\r\n            patchReservationGroup(reqParams, {\r\n                reason: adminEdit ? changeReason : undefined,\r\n                reservations,\r\n            }, cb);\r\n        };\r\n\r\n        if (groupReservations.length <= 1) {\r\n            doDelete();\r\n        } else {\r\n            Modal.confirm({\r\n                title: 'Cancelar citas',\r\n                icon: <ExclamationCircleOutlined />,\r\n                centered: true,\r\n                content: (\r\n                    <Radio.Group\r\n                        className={styles.cancelRadioGroup}\r\n                        onChange={handleCancelTypeChange}\r\n                        defaultValue={cancelType}\r\n                    >\r\n                        <Radio value=\"single\">solo esta cita</Radio>\r\n                        <ul>\r\n                            <li key={reservation.from}>{reservation.from.format('dd[\\xa0]L')}, {reservation.from.hour()}&nbsp;bis&nbsp;{reservation.to.hour()}&nbsp;hs, {getCourtName(courts, reservation.courtId)}</li>\r\n                        </ul>\r\n                        <Radio value=\"allActive\">Todas las citas abiertas</Radio>\r\n                        <ul>\r\n                            {groupReservations.filter(r => !r.from.isBefore(dayjs(), 'hour')).map(({ courtId, from, to }) => (\r\n                                <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;hs, {getCourtName(courts, courtId)}</li>\r\n                            ))}\r\n                        </ul>\r\n                        {user?.admin &&\r\n                            <>\r\n                                <Radio value=\"all\">Todas las citas</Radio>\r\n                                <ul>\r\n                                    {groupReservations.map(({ courtId, from, to }) => (\r\n                                        <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;hs, {getCourtName(courts, courtId)}</li>\r\n                                    ))}\r\n                                </ul>\r\n                            </>\r\n                        }\r\n                    </Radio.Group>\r\n                ),\r\n                okText: 'Aceptar',\r\n                okType: 'danger',\r\n                cancelText: 'Cancelar',\r\n                onOk: doDelete,\r\n            });\r\n        }\r\n    }, [\r\n        adminEdit,\r\n        changeReason,\r\n        courts,\r\n        groupReservations,\r\n        onFinish,\r\n        patchReservationGroup,\r\n        reservation,\r\n        user?.admin,\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        if (prevErrorRef.current.post === postState.error\r\n            && prevErrorRef.current.patch === patchState.error)\r\n            return;\r\n        prevErrorRef.current.post = postState.error;\r\n        prevErrorRef.current.patch = patchState.error;\r\n\r\n        const message = postState.error?.message || patchState.error?.message;\r\n        if (unavailableReservations) {\r\n            Modal.error({\r\n                centered: true,\r\n                title: 'Reserva fallida',\r\n                content: (\r\n                    <div>\r\n                        <div>\r\n                            Las siguientes fechas no están disponibles:\r\n                        </div>\r\n                        <ul>\r\n                            {unavailableReservations.map(({ courtId, from, to }) => (\r\n                                <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;hs, {getCourtName(courts, courtId)}</li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                )\r\n            });\r\n        } else if (message === 'too many active reservations') {\r\n            const value = postState.error?.value || patchState.error?.value;\r\n            const max = postState.error?.max || patchState.error?.max;\r\n            const diff = Math.abs(value - max);\r\n            Modal.error({\r\n                centered: true,\r\n                title: 'Límite de reserva alcanzado',\r\n                content: (\r\n                    <div>\r\n                        {reservations?.length > diff ?\r\n                            (\r\n                                <p>\r\n                                    Por favor elimine al menos<strong>{diff}</strong> Eventos.\r\n                                </p>\r\n                            ) : (\r\n                                <p>\r\n                                    Actualmente no puede reservar más citas.\r\n                                </p>\r\n                            )\r\n                        }\r\n                        <p>\r\n                            Pueden ser un maximo de {max} Las reservas deben hacerse con anticipación. No se tendrán en cuenta las citas anteriores.\r\n                        </p>\r\n                    </div>\r\n                )\r\n            });\r\n        }\r\n    }, [courts, reservations?.length, postState.error, patchState.error, unavailableReservations])\r\n\r\n    if (\r\n        state.error\r\n        || (postState.error && !postState.error.unavailableReservations && postState.error.message !== 'too many active reservations')\r\n        || (patchState.error && !patchState.error.unavailableReservations && patchState.error.message !== 'too many active reservations')\r\n    ) {\r\n        return (\r\n            <Modal\r\n                title=\"reserva\"\r\n                visible={true}\r\n                centered\r\n                onCancel={onFinish}\r\n                onOk={onFinish}\r\n                footer={\r\n                    <div className={styles.footer}>\r\n                        <Button onClick={onFinish}>\r\n                            Cancelar\r\n                        </Button>\r\n                    </div>\r\n                }\r\n            >\r\n                <div className={styles.wrapper}>\r\n                    <ErrorResult />\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            visible={true}\r\n            width={530}\r\n            centered\r\n            onCancel={onFinish}\r\n            onOk={onFinish}\r\n            footer={loading ?\r\n                (\r\n                    <StatusText\r\n                        loading\r\n                        text=\"Espere por favor...\"\r\n                    />\r\n                ) : (\r\n                    <div className={styles.footer}>\r\n                        <Button onClick={onFinish}>\r\n                            Cerrar\r\n                        </Button>\r\n                        {canEdit && (reservation ?\r\n                            (\r\n                                <>\r\n                                    <Button\r\n                                        type=\"danger\"\r\n                                        onClick={handleCancelReservation}\r\n                                        disabled={adminEdit && !changeReason}\r\n                                    >\r\n                                        Cancelar reserva\r\n                                    </Button>\r\n                                    <Button\r\n                                        type=\"primary\"\r\n                                        onClick={handleChangeReservation}\r\n                                        disabled={\r\n                                            !(newReservations?.length || cancelReservations?.length || changeText)\r\n                                            || (adminEdit && !changeReason)\r\n                                        }\r\n                                    >\r\n                                        Guardar\r\n                                    </Button>\r\n                                </>\r\n                            ) : (\r\n                                <Button\r\n                                    disabled={!newReservations?.length}\r\n                                    type=\"primary\"\r\n                                    onClick={handlePostReservation}\r\n                                >\r\n                                    Reservas\r\n                                </Button>\r\n                            )\r\n                        )}\r\n                    </div>\r\n                )\r\n            }\r\n        >\r\n            <div className={styles.wrapper}>\r\n                {state.loading ?\r\n                    (\r\n                        <Ball visible spin centered large />\r\n                    ) : (\r\n\r\n                        <ReservationDetailsForm\r\n                            courtId={courtId}\r\n                            currentReservations={groupReservations}\r\n                            disabled={loading}\r\n                            from={from}\r\n                            onCourtIdChange={setCourtId}\r\n                            onFromChange={setFrom}\r\n                            onReservationsChange={setReservations}\r\n                            onTextChange={setText}\r\n                            onToChange={setTo}\r\n                            readOnly={!canEdit}\r\n                            text={text}\r\n                            to={to}\r\n                            unavailableReservations={unavailableReservations}\r\n                        />\r\n                    )\r\n                }\r\n\r\n                {adminEdit &&\r\n                    <Form layout=\"vertical\">\r\n                        <Form.Item\r\n                            label=\"La razon del cambio\"\r\n                            required\r\n                        >\r\n                            <Input.TextArea\r\n                                autoSize\r\n                                disabled={loading}\r\n                                onChange={handleChangeChangeReason}\r\n                                placeholder=\"Necesario\"\r\n                                required\r\n                                value={changeReason}\r\n                            />\r\n                            <div className={styles.changeReasonHint}>\r\n                                El titular de la reserva será informado de los cambios y el motivo de los mismos mediante correo electrónico.\r\n                            </div>\r\n                        </Form.Item>\r\n                    </Form>\r\n                }\r\n            </div>\r\n        </Modal>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"buttons\":\"VerifyMailModal_buttons__64oQR\"};","import { Button, Modal, Result } from 'antd';\r\nimport React, { useCallback, useContext } from 'react';\r\n\r\nimport { authContext } from '../AuthContext';\r\nimport styles from './VerifyMailModal.module.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport function VerifyMailModal({\r\n    onClose\r\n}) {\r\n    const { user } = useContext(authContext);\r\n    const history = useHistory();\r\n\r\n    const handleChangeMailClick = useCallback(() => {\r\n        history.push('/profile');\r\n    }, [history]);\r\n\r\n    const handleResendMail = useCallback(() => {\r\n        history.push('/verify-mail/send');\r\n    }, [history]);\r\n\r\n    return (\r\n        <Modal\r\n            title=\"Correo electrónico no verificado\"\r\n            visible={true}\r\n            centered\r\n            width={580}\r\n            onCancel={onClose}\r\n            onOk={onClose}\r\n            footer={null}\r\n        >\r\n            <Result\r\n                status=\"warning\"\r\n                title=\"Por favor confirme su dirección de correo electrónico\"\r\n                extra={\r\n                    <div>\r\n                        <div>\r\n                            Haga clic en el enlace de confirmación enviado al correo <strong>{user?.mail}</strong>\r\n                        </div>\r\n                        <div className={styles.buttons}>\r\n                            <Button type=\"primary\" onClick={handleResendMail}>\r\n                                Reenviar enlace de confirmación\r\n                            </Button>\r\n                            <Button type=\"link\" onClick={handleChangeMailClick}>\r\n                                Cambiar dirección de correo electrónico\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            />\r\n        </Modal>\r\n    );\r\n}","import React, { useContext } from 'react';\r\n\r\nimport { DisableReservationGroupModal } from './DisableReservationGroupModal';\r\nimport { LoginModal } from '../user/LoginModal';\r\nimport { RESERVATION_TYPES } from '../ReservationTypes';\r\nimport { ReservationGroupModal } from './ReservationGroupModal';\r\nimport { VerifyMailModal } from '../user/VerifyMailModal';\r\nimport { authContext } from '../AuthContext';\r\n\r\nexport function ReservationModal(props) {\r\n    \r\n    const { user } = useContext(authContext);\r\n    const { onFinish, reservation, type } = props;\r\n\r\n    if (!user)\r\n        return <LoginModal onClose={onFinish} />\r\n\r\n    if (!user.verified)\r\n        return <VerifyMailModal onClose={onFinish} />\r\n\r\n    if (reservation?.type === RESERVATION_TYPES.DISABLE || type === RESERVATION_TYPES.DISABLE)\r\n        return <DisableReservationGroupModal {...props} />;\r\n\r\n    return <ReservationGroupModal {...props} />;\r\n}","import { useEffect, useState } from 'react';\r\n\r\nimport dayjs from 'dayjs';\r\n\r\nconst checkIntervalMs = 60000; // minute\r\n\r\nexport function useTime(unit) {\r\n    const [time, setTime] = useState(() => dayjs.tz());\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            const newTime = dayjs.tz();\r\n            if (!time.isSame(newTime, unit))\r\n                setTime(newTime);\r\n        }, checkIntervalMs);\r\n\r\n        return () => clearInterval(interval);\r\n    }, [time, unit]);\r\n\r\n    return time;\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"loginButton\":\"LoginForm_loginButton__Tob1Q\",\"forgotLink\":\"LoginForm_forgotLink__PPl5y\",\"registerItem\":\"LoginForm_registerItem__KHQVO\"};","import { Alert, Button, Checkbox, Form, Input } from 'antd';\r\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\r\nimport React, { useCallback, useContext } from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { StatusText } from '../admin/StatusText';\r\nimport { authContext } from '../AuthContext';\r\nimport { postLoginApi } from '../api';\r\nimport styles from './LoginForm.module.css';\r\nimport { useApi } from '../useApi';\r\n\r\nexport function LoginForm() {\r\n\r\n    const { autoLoginState, setUser, setRememberLogin } = useContext(authContext);\r\n    const [loginState, login] = useApi(postLoginApi, setUser);\r\n\r\n    const loading = loginState.loading || autoLoginState.loading;\r\n    const valStatus = loginState.error ? 'error' : undefined;\r\n\r\n    const onFinish = useCallback(({ mail, password, rememberLogin }) => {\r\n        setRememberLogin(rememberLogin);\r\n        login(null, {\r\n            type: 'plain',\r\n            mail,\r\n            password,\r\n        });\r\n    }, [login, setRememberLogin]);\r\n\r\n    return (\r\n        <Form\r\n            layout=\"vertical\"\r\n            onFinish={onFinish}\r\n        >\r\n            {loginState.error &&\r\n                <Form.Item>\r\n                    <Alert\r\n                        type=\"error\"\r\n                        message=\"Error en el inicio de sesion.\"\r\n                    />\r\n                </Form.Item>\r\n            }\r\n\r\n            <Form.Item\r\n                name=\"mail\"\r\n                rules={[{ required: true, message: 'El correo electrónico es requerido' }]}\r\n                validateStatus={valStatus}\r\n            >\r\n                <Input\r\n                    autoComplete=\"email\"\r\n                    prefix={<MailOutlined style={{ color: '#aaa' }} />}\r\n                    placeholder=\"Correo electrónico\"\r\n                    disabled={loading}\r\n                />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"password\"\r\n                rules={[{ required: true, message: 'La contraseña es requerida' }]}\r\n                validateStatus={valStatus}\r\n            >\r\n                <Input.Password\r\n                    autoComplete=\"current-password\"\r\n                    prefix={<LockOutlined style={{ color: '#aaa' }} />}\r\n                    placeholder=\"Contraseña\"\r\n                    disabled={loading}\r\n                />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n                <Form.Item name=\"rememberLogin\" valuePropName=\"checked\" noStyle>\r\n                    <Checkbox\r\n                        disabled={loading}\r\n                    >\r\n                        Recordar contraseña\r\n                    </Checkbox>\r\n                </Form.Item>\r\n\r\n                {/* TODO */}\r\n                <Link className={styles.forgotLink} to=\"/reset-password\">\r\n                    Olvidé mi contraseña\r\n                </Link>\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n                <Button\r\n                    type=\"primary\"\r\n                    htmlType=\"submit\"\r\n                    className={styles.loginButton}\r\n                    disabled={loading}\r\n                >\r\n                    <StatusText\r\n                        loading={loading}\r\n                        text={loading ? 'Iniciando...' : 'Iniciar sesion'}\r\n                    />\r\n                </Button>\r\n            </Form.Item>\r\n\r\n\r\n            <Form.Item className={styles.registerItem}>\r\n                <Link to=\"/register\">Registrarse gratis</Link>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n}"],"names":["AntDatePicker","generatePicker","dayjsGenerateConfig","DatePicker","props","_jsx","locale","inputReadOnly","size","panelRender","panel","className","styles","pickerPanel","children","cn","classNames","ReservationDetails","_ref","court","date","inline","name","repeat","time","_jsxs","wrapper","item","title","UserOutlined","content","CalendarOutlined","ClockCircleOutlined","EnvironmentOutlined","RedoOutlined","DateTimeRangeSelect","disabled","from","to","onFromChange","onToChange","hours","useMemo","Array","keys","updateTimes","useCallback","_ref2","newFrom","newTo","isAfter","tmp","isSame","add","handleFromDateChange","newFromDate","hour","handleToDateChange","newToDate","handleFromHourChange","newFromHour","handleToHourChange","newToHour","allowClear","bordered","datePicker","format","onChange","showToday","suffixIcon","DownOutlined","value","Select","map","Option","SCROLL_OFFSET_PX","SCROLL_TRESHOLD_PX","ScrollRadioGroup","rest","innerRef","useRef","leftScroll","setLeftScroll","useState","rightScroll","setRightScroll","updateStops","current","scrollLeft","scrollWidth","offsetWidth","useEffect","handleClick","e","_e$target","_e$target$parentNode","_e$target$parentNode$","offsetLeft","target","parentNode","requestAnimationFrame","Math","max","outer","inner","onClick","onScroll","ref","Radio","buttonStyle","DisableReservationGroupModal","_patchState$error2","_postState$error2","initialFrom","initialCourtId","reservation","onFinish","setReservations","setOuterReservations","config","visibleHours","courts","useContext","appContext","reason","setReason","text","setFrom","startOf","setTo","courtId","setCourtId","prevErrorRef","postState","postReservationGroup","useApi","postReservationGroupApi","patchState","patchReservationGroup","patchReservationGroupApi","loading","changed","unavailableReservations","_postState$error","_patchState$error","uaRes","error","dayjs","handleChangeReason","handleCourtIdChange","handleDisableCourt","_checkDate","doDisable","path","groupId","reservations","message","success","type","RESERVATION_TYPES","DISABLE","checkDate","isSameOrAfter","Modal","icon","width","centered","confirm","okText","okType","onOk","handleRemoveDisable","post","patch","_ref3","getCourtName","visible","onCancel","footer","Button","ErrorResult","StatusText","_ref4","Form","layout","Item","label","Input","placeholder","changeReasonHint","LoginModal","onClose","LoginForm","defaultRepeatValuesMap","RepeatReservationForm","currentReservations","defaultAddCount","repeatValuesMap","user","authContext","reservationDaysInAdvance","now","useTime","repeatValue","setRepeatValue","visibleDates","setVisibleDates","selectedDates","_setSelectedDates","prevValRef","dateToReservation","checkIfTooFarAhead","admin","checkIfNotAvailable","r1","some","r2","setSelectedDates","_selectedDates","dates","filter","d","s","reset","length","r","sort","a","b","valueOf","Number","MAX_SAFE_INTEGER","i","diff","min","abs","toString","allowedValues","Object","includes","first","last","count","push","addDate","handleRepeatValueChange","newRepeatValue","handleCheckedChange","checked","newSelection","reserved","cr","sd","change","past","isBefore","notAvailable","tooFarAhead","_Fragment","dateButton","unchecked","danger","LockOutlined","DeleteOutlined","PlusOutlined","extra","buttons","ReservationTimeSelect","visibleHoursToHoursArray","toHours","reduce","h","handleFromChange","handleToChange","Space","direction","ReservationDetailsForm","_currentReservations$","_currentReservations$2","_currentReservations$3","_currentReservations$4","onCourtIdChange","onReservationsChange","onTextChange","readOnly","editName","setEditName","handleEditName","handleCancelEditName","handleDateChange","handleTextChange","plain","nameInput","EditOutlined","ReservationGroupModal","initialTo","templates","reservationTos","changeReason","setChangeReason","setText","groupReservations","setGroupReservations","state","getGroupReservations","getReservationsApi","adminEdit","userId","canEdit","newReservations","gr","cancelReservations","changeText","query","handleChangeChangeReason","handlePostReservation","dangerouslySetInnerHTML","__html","body","doPost","NORMAL","handleChangeReservation","ExclamationCircleOutlined","heading","cancelText","doChange","undefined","handleCancelReservation","cancelType","handleCancelTypeChange","doDelete","reqParams","cb","cancelRadioGroup","defaultValue","_ref5","_ref6","_postState$error3","_patchState$error3","_ref7","_postState$error4","_patchState$error4","_postState$error5","_patchState$error5","Ball","spin","large","required","TextArea","autoSize","VerifyMailModal","history","useHistory","handleChangeMailClick","handleResendMail","Result","status","mail","ReservationModal","verified","checkIntervalMs","unit","setTime","interval","setInterval","newTime","clearInterval","autoLoginState","setUser","setRememberLogin","loginState","login","postLoginApi","valStatus","password","rememberLogin","Alert","rules","validateStatus","autoComplete","prefix","MailOutlined","style","color","Password","valuePropName","noStyle","Checkbox","Link","forgotLink","htmlType","loginButton","registerItem"],"sourceRoot":""}