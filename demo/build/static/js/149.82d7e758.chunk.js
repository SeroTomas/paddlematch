"use strict";(self.webpackChunkreservierungssystem_tennis=self.webpackChunkreservierungssystem_tennis||[]).push([[149],{12361:(e,r,s)=>{s.d(r,{G:()=>c});var n=s(47419),t=s(11645),a=s(89421),o=s(93954),i=s(70579);function l(e){let{apiState:r}=e;const{success:s,loading:n,error:t}=r;return n?(0,i.jsx)(o.E,{loading:!0,text:"Guardar"}):t?(0,i.jsx)(o.E,{error:!0,text:"No se pudo guardar"}):s?(0,i.jsx)(o.E,{success:!0,text:"Guardado"}):null}function c(e){let{apiState:r={},disableReset:s,onSave:o,onReset:c}=e;return(0,i.jsxs)(n.A,{gutter:[16,16],align:"middle",children:[(0,i.jsx)(t.A,{children:(0,i.jsx)(a.A,{disabled:r.loading,onClick:o,type:"primary",htmlType:"submit",children:"Guardar"})}),(0,i.jsx)(t.A,{children:(0,i.jsx)(a.A,{disabled:r.loading||s,onClick:c,htmlType:"reset",children:"Restablecer los valores predeterminados"})}),(0,i.jsx)(t.A,{children:(0,i.jsx)(l,{apiState:r})})]})}},15520:(e,r,s)=>{s.d(r,{s:()=>x});var n=s(53593),t=s(92135),a=s(25389),o=s(78186),i=s(89421),l=s(65043),c=s(93954),d=s(12361),u=s(17592);const m={form:"RegisterForm_form__1NKGQ"};var p=s(70579);function x(e){let{apiState:r={},onFinish:s,user:x}=e;const{templates:{systemTos:v}}=(0,l.useContext)(u.v),[f]=n.A.useForm(),[g,h]=(0,l.useState)(!0),b=r.loading,A=(0,l.useRef)(null),j=(0,l.useCallback)((()=>{f.resetFields(),h(!0)}),[f]);(0,l.useEffect)((()=>{j()}),[j,x]),(0,l.useEffect)((()=>{r.success&&j(),r.error&&(A.current=f.getFieldValue("mail"),f.validateFields())}),[f,r,j]);const y=(0,l.useCallback)((()=>{g&&h(!1)}),[g]);return(0,p.jsxs)(n.A,{form:f,className:m.form,layout:"vertical",onFinish:s,onFieldsChange:y,children:[r.error&&(0,p.jsx)(n.A.Item,{children:(0,p.jsx)(t.A,{type:"error",message:"Registro fallido."})}),(0,p.jsx)(n.A.Item,{label:"Nombre",name:"name",initialValue:null===x||void 0===x?void 0:x.name,rules:[{required:!0,message:"El nombre es requerido"},{pattern:/^[\u00c0-\u017eA-Za-z0-9.]{1}[\u00c0-\u017eA-Za-z0-9\s.]{3,18}[\u00c0-\u017eA-Za-z0-9.]{1}$/,message:"Entre 5 y 20 caracteres compuestos por: letras, n\xfameros, puntos y espacios (excepto al principio/final)"}],children:(0,p.jsx)(a.A,{autoComplete:"name",disabled:b})}),(0,p.jsx)(n.A.Item,{name:"mail",label:"E-Mail",initialValue:null===x||void 0===x?void 0:x.mail,rules:[{type:"email",message:"Ejemplo: xxxxx@xxxxx.com"},{required:!0,message:"La direcci\xf3n de correo electr\xf3nico es obligatoria."},{required:!0,validator(e,s){var n;return 400===r.status&&"mail already registered"===(null===(n=r.error)||void 0===n?void 0:n.message)&&s===A.current?Promise.reject("El correo electr\xf3nico ya est\xe1 registrado."):Promise.resolve()}}],children:(0,p.jsx)(a.A,{autoComplete:"email",disabled:b})}),(0,p.jsx)(n.A.Item,{label:x?"Nueva contrase\xf1a":"Contrase\xf1a",name:"password",rules:[{required:!0,validator:(e,r)=>(null===r||void 0===r?void 0:r.length)>0&&(null===r||void 0===r?void 0:r.length)<8||!x&&!r?Promise.reject("Se requieren al menos 8 caracteres"):Promise.resolve()}],children:(0,p.jsx)(a.A.Password,{autoComplete:"new-password",placeholder:x?"No cambiar":"Minimo 8 caracteres",disabled:b})}),(0,p.jsx)(n.A.Item,{label:"confirmar Contrase\xf1a",name:"password-confirm",dependencies:["password"],rules:[e=>{let{getFieldValue:r}=e;return{required:!0,validator(e,s){const n=r("password");return n===s||!n&&!s?Promise.resolve():Promise.reject("\xa1Las contrase\xf1as no coinciden!")}}}],children:(0,p.jsx)(a.A.Password,{autoComplete:"new-password",placeholder:x?"No cambiar":"Minimo 8 caracteres",disabled:b})}),!x&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{children:"Condiciones de uso"}),(0,p.jsx)("div",{dangerouslySetInnerHTML:{__html:v.body}})]}),(0,p.jsx)(n.A.Item,{name:"Aceptar",valuePropName:"checked",rules:[{validator:(e,r)=>r?Promise.resolve():Promise.reject("Necesario aceptar los t\xe9rminos y condiciones")}],children:(0,p.jsx)(o.A,{disabled:b,children:"Acepto los t\xe9rminos y condiciones"})})]}),(0,p.jsx)(n.A.Item,{children:x?(0,p.jsx)(d.G,{apiState:r,disableReset:g,onReset:j}):(0,p.jsx)(i.A,{type:"primary",htmlType:"submit",disabled:b,children:(0,p.jsx)(c.E,{loading:b,text:b?"Registrando...":"Registrarse"})})})]})}},90149:(e,r,s)=>{s.r(r),s.d(r,{RegisterPage:()=>m});var n=s(59557),t=s(62582),a=s(65043),o=s(15520),i=s(49613),l=s(22768);const c={cta:"RegisterPage_cta__YFmHu",wrapper:"RegisterPage_wrapper__JgKoR",loginItem:"RegisterPage_loginItem__XQ5f5"};var d=s(24095),u=s(70579);function m(){const{setUser:e}=(0,a.useContext)(i.I),[r,s]=(0,d.g)(l.OB,e),m=(0,n.W6)(),p=(0,a.useCallback)((e=>{let{name:r,mail:n,password:t}=e;s(null,{name:r,mail:n,password:t},(()=>{m.push("/verify-mail/send")}))}),[s,m]);return(0,u.jsxs)("div",{className:c.wrapper,children:[(0,u.jsxs)("h1",{children:["Registrarse",(0,u.jsxs)("div",{className:c.loginItem,children:[(0,u.jsx)("span",{children:"\xbfYa est\xe1s registrado? "}),(0,u.jsx)(t.N_,{to:"/login",children:"Iniciar sesion"})]})]}),(0,u.jsx)(o.s,{apiState:r,onFinish:p})]})}},92135:(e,r,s)=>{s.d(r,{A:()=>G});var n=s(58168),t=s(64467),a=s(5544),o=s(65043),i=s(7181),l=s.n(i),c=s(59413),d=s.n(c),u=s(44864),m=s.n(u),p=s(98417),x=s.n(p),v=s(11249),f=s.n(v),g=s(67723),h=s.n(g),b=s(48338),A=s.n(b),j=s(64759),y=s.n(j),C=s(76407),E=s.n(C),w=s(28801),N=s(64600),k=s.n(N),P=s(25055);var S=s(23029),_=s(92901),I=s(85501),R=s(88293),F=function(e){(0,I.A)(s,e);var r=(0,R.A)(s);function s(){var e;return(0,S.A)(this,s),(e=r.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,_.A)(s,[{key:"componentDidCatch",value:function(e,r){this.setState({error:e,info:r})}},{key:"render",value:function(){var e=this.props,r=e.message,s=e.description,n=e.children,t=this.state,a=t.error,i=t.info,l=i&&i.componentStack?i.componentStack:null,c="undefined"===typeof r?(a||"").toString():r,d="undefined"===typeof s?l:s;return a?o.createElement(G,{type:"error",message:c,description:o.createElement("pre",null,d)}):n}}]),s}(o.Component),O=s(12701),M=function(e,r){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(s[n[t]]=e[n[t]])}return s},L={success:h(),info:y(),error:E(),warning:A()},q={success:d(),info:x(),error:f(),warning:m()},T=function(e){var r,s=e.description,i=e.prefixCls,c=e.message,d=e.banner,u=e.className,m=void 0===u?"":u,p=e.style,x=e.onMouseEnter,v=e.onMouseLeave,f=e.onClick,g=e.afterClose,h=e.showIcon,b=e.closable,A=e.closeText,j=M(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText"]),y=o.useState(!1),C=(0,a.A)(y,2),E=C[0],N=C[1],S=o.useRef(),_=o.useContext(P.QO),I=_.getPrefixCls,R=_.direction,F=I("alert",i),T=function(e){var r;N(!0),null===(r=j.onClose)||void 0===r||r.call(j,e)},G=!!A||b,H=function(){var e=j.type;return void 0!==e?e:d?"warning":"info"}(),V=!(!d||void 0!==h)||h,z=k()(F,"".concat(F,"-").concat(H),(r={},(0,t.A)(r,"".concat(F,"-with-description"),!!s),(0,t.A)(r,"".concat(F,"-no-icon"),!V),(0,t.A)(r,"".concat(F,"-banner"),!!d),(0,t.A)(r,"".concat(F,"-closable"),G),(0,t.A)(r,"".concat(F,"-rtl"),"rtl"===R),r),m),Q=function(e){return Object.keys(e).reduce((function(r,s){return"data-"!==s.substr(0,5)&&"aria-"!==s.substr(0,5)&&"role"!==s||"data-__"===s.substr(0,7)||(r[s]=e[s]),r}),{})}(j);return o.createElement(w.A,{visible:!E,motionName:"".concat(F,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:g},(function(e){var r=e.className,a=e.style;return o.createElement("div",(0,n.A)({ref:S,"data-show":!E,className:k()(z,r),style:(0,n.A)((0,n.A)({},p),a),onMouseEnter:x,onMouseLeave:v,onClick:f,role:"alert"},Q),V?function(){var e=j.icon,r=(s?q:L)[H]||null;return e?(0,O.fx)(e,o.createElement("span",{className:"".concat(F,"-icon")},e),(function(){return{className:k()("".concat(F,"-icon"),(0,t.A)({},e.props.className,e.props.className))}})):o.createElement(r,{className:"".concat(F,"-icon")})}():null,o.createElement("span",{className:"".concat(F,"-message")},c),o.createElement("span",{className:"".concat(F,"-description")},s),G?o.createElement("button",{type:"button",onClick:T,className:"".concat(F,"-close-icon"),tabIndex:0},A?o.createElement("span",{className:"".concat(F,"-close-text")},A):o.createElement(l(),null)):null)}))};T.ErrorBoundary=F;const G=T},11645:(e,r,s)=>{s.d(r,{A:()=>n});const n=s(30227).A},47419:(e,r,s)=>{s.d(r,{A:()=>n});const n=s(28821).A}}]);
//# sourceMappingURL=149.82d7e758.chunk.js.map