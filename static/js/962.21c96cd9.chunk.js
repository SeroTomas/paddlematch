"use strict";(self.webpackChunkPaddleMatch=self.webpackChunkPaddleMatch||[]).push([[962,333],{54333:(e,r,a)=>{a.r(r),a.d(r,{DemoControls:()=>g,demoControl:()=>f});var s=a(86904),o=a(64435),i=a(89421),n=a(65043),d=a(59557);const t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 472a40 40 0 1080 0 40 40 0 10-80 0zm367 352.9L696.3 352V178H768v-68H256v68h71.7v174L145 824.9c-2.8 7.4-4.3 15.2-4.3 23.1 0 35.3 28.7 64 64 64h614.6c7.9 0 15.7-1.5 23.1-4.3 33-12.7 49.4-49.8 36.6-82.8zM395.7 364.7V180h232.6v184.7L719.2 600c-20.7-5.3-42.1-8-63.9-8-61.2 0-119.2 21.5-165.3 60a188.78 188.78 0 01-121.3 43.9c-32.7 0-64.1-8.3-91.8-23.7l118.8-307.5zM210.5 844l41.7-107.8c35.7 18.1 75.4 27.8 116.6 27.8 61.2 0 119.2-21.5 165.3-60 33.9-28.2 76.3-43.9 121.3-43.9 35 0 68.4 9.5 97.6 27.1L813.5 844h-603z"}}]},name:"experiment",theme:"outlined"};var l=a(22172),u=function(e,r){return n.createElement(l.A,Object.assign({},e,{ref:r,icon:t}))};u.displayName="ExperimentOutlined";const c=n.forwardRef(u);var m=a(49613),v=a(22768),p=a(24095),h=a(70579);const f={};function g(){const{user:e,setUser:r}=(0,n.useContext)(m.I),[a,t]=(0,n.useState)(!0),[,l]=(0,p.g)(v.cx,r),u=(0,d.W6)();f.history=u;const g=(0,d.zy)();return(0,n.useEffect)((()=>{a?s.A.info({key:"demo",message:"Modo de prueba",duration:0,placement:"bottomRight",icon:(0,h.jsx)(c,{}),onClose:()=>t(!1),description:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:"Esta es una demostraci\xf3n llena de datos falsos."}),(0,h.jsxs)(o.A,{direction:"vertical",children:["/kiosk"===g.pathname?(0,h.jsx)(i.A,{size:"middle",onClick:()=>u.push("/"),children:"Salir de modo Kiosko"}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.A,{size:"middle",onClick:()=>u.push("/kiosk"),children:"Modo Kiosko"}),2!==(null===e||void 0===e?void 0:e.userId)&&(0,h.jsx)(i.A,{size:"middle",onClick:()=>l(null,{type:"plain",mail:"otto@example.com",password:"demo"}),children:"Inicie sesi\xf3n como administrador (Otto)."}),9!==(null===e||void 0===e?void 0:e.userId)&&(0,h.jsx)(i.A,{size:"middle",onClick:()=>l(null,{type:"plain",mail:"max@example.com",password:"demo"}),children:"Inicie sesi\xf3n como usuario (Max)."})]}),(0,h.jsx)(i.A,{size:"middle",type:"primary",onClick:()=>t(!1),children:"Ocultar"})]})]})}):s.A.close("demo")}),[a,u,g,e,l]),a?null:(0,h.jsx)(i.A,{style:{position:"fixed",bottom:5,right:5},type:"primary",onClick:()=>t(!0),children:"Mostrar controles de prueba"})}},3962:(e,r,a)=>{a.r(r),a.d(r,{patchFetch:()=>g});var s=a(86904),o=a(89421),i=a(22768),n=a(39194),d=a(40989),t=a(60446),l=a.n(t);const u=l()().startOf("day"),c={config:{announcement:"Este es un anuncio de muestra.\n Se puede configurar un anuncio como administrador en Administraci\xf3n -> Ajustes generales.",visibleHours:[8,22],orgName:"Paddle Match",serverMail:"abc@def.de",url:"https://reservierung.xyz.de",reservationDaysInAdvance:90,reservationMaxActiveCount:10,timeZone:l().tz.guess()},mailTemplates:{reservationConfirmation:{subject:"Confirmaci\xf3n de reservaci\xf3n- Paddle Match",body:"Hola {{name}}.<div><br>Acabas de realizar la siguiente reserva:<br><br>{{reservierung}}<br><br>Una reserva vinculante s\xf3lo se realiza cuando el token es confirmado.<br>No se pueden derivar reclamos legales por sistema de reservas.<br><br>Puedes obtener los tokens y el c\xf3digo de acceso de nuestros socios:<br>xyz<br><br>---</div><div><br></div><div>Paddle Match&nbsp;</div>"},reservationCancelled:{subject:"Cancelaci\xf3n de su reserva - Paddle Match",body:"Hola {{name}}.<div><br>Tu reserva acaba de ser cancelada:<br><br>{{reservierung}}<br><br>Motivo de la cancelaci\xf3n:</div><div><br></div><div>{{grund}}<br><br><br>---</div><div><br></div><div>Paddle Match&nbsp;</div>"},confirmMail:{subject:"Registro: Confirma tu email- Paddle Match",body:"Hola {{name}}.<div><br>Por favor confirme su direcci\xf3n de correo electr\xf3nico haciendo clic en el siguiente enlace:<br><br>{{link}}<br></div><div><br></div><div>---</div><div><br></div><div>Paddle Match&nbsp;</div>"},resetPassword:{subject:"restablecer la contrase\xf1a - Paddle Match",body:"Hola {{name}}.<div><br>Haga clic en el siguiente enlace para restablecer su contrase\xf1a:<br><br>{{link}}<br><br></div><div>---</div><div><br></div><div>Paddle Match&nbsp;</div>"}},templates:{reservationTos:{body:"<h1>Precio</h1><div>15,- Euros por ficha<br>145,- Euros por 10 fichas<br></div><div><br></div><h1>Condiciones de uso</h1><ul>\n    <li>\n    Para usarlo necesitas tokens y un c\xf3digo de acceso. Puede obtenerlos de nuestros socios: <br>\nxyz asfdlkafsd, asdfkj 012387878 <br>\nxbasdfyz aad, asdfkj 129388 8123 <br>\n    </li>\n    <li>\n    Hay una cerradura con c\xf3digo en la entrada de la cancha en la que se debe ingresar un c\xf3digo num\xe9rico de 4 d\xedgitos para activar la puerta.\n    </li>\n    <li>\n    Hay una m\xe1quina de fichas para cada cancha. Un token enciende la luz durante 1 hora (+ un cierto retraso) y habilita el control de la calefacci\xf3n.\n    </li>\n    <li>\n    El uso despu\xe9s de las 22 horas y antes de las 8 horas es posible sin reservas.\n    </li>\n    <li>\n    No se pueden derivar reclamamos legales por el sistema de reservas.\n    </li>\n</ul>"},systemTos:{body:"<ul>\n    <li>\n    No se pueden derivar reclamamos legales por el sistema de reservas.\n    </li>\n    <li>\n    Su nombre se mostrar\xe1 p\xfablicamente en el calendario de reservas.\n    </li>\n    <li>\n    Usted acepta que se utilice una tecnolog\xeda similar a las cookies para garantizar la funcionalidad del sistema. No hay seguimiento, etc.\n    </li>\n    <li>\n    Puedes ver y eliminar permanentemente tus datos guardados (cuenta de usuario, reservas) en cualquier momento.\n    </li>\n    <li>\n    Su correo electr\xf3nico se utilizar\xe1 para confirmar reservas y notificarle si es necesario. Su correo electr\xf3nico no ser\xe1 compartido con terceros.\n    </li>\n</ul>"},infoPage:{body:"<h1>Informaci\xf3n general sobre el uso de la sala</h1><div><br><ul><li>Este es un sistema de reservas</li><li>Una reserva vinculante s\xf3lo se realiza cuando el token se inserta en la m\xe1quina de tokens.</li><liNo se pueden derivar reclamamos legales por el sistema de reservas.</li><li>No es necesario utilizar este sistema de reservas. Tambi\xe9n puedes utilizar la sala sin reserva, pero ten en cuenta que las reservas tienen prioridad.</li><li>Tambi\xe9n es posible utilizarlo despu\xe9s de las 22:00 horas y antes de las 8:00 horas. Estos horarios rara vez se solicitan y, por lo tanto, no figuran en el plan de reserva para mayor claridad.</li><li>Hay una cerradura con c\xf3digo en la entrada de la cancha en la que se debe ingresar un c\xf3digo num\xe9rico de 4 d\xedgitos para activar la puerta.</li><li>Hay una m\xe1quina de fichas para cada cancha. Un token enciende la luz durante 1 hora (+ un cierto retraso) y habilita el control de la calefacci\xf3n.</li><li>Puedes obtener los tokens y el c\xf3digo de acceso de nuestros socios:</li><li>hotel relexa Harz-Wald Braunlage, Karl-R\xf6hrig Str. 5a, Tel. 05520/8070</li><li>BTG Braunlage (informaci\xf3n tur\xedstica), Elbinger\xf6derstr.</li><li>Una ficha cuesta 15 euros</li><li>10 fichas cuestan 145 euros</li><li>No hay suscripci\xf3n en el sentido real, s\xf3lo el descuento por 10 tokens o m\xe1s.</li><li>Si necesita mucho m\xe1s, por ejemplo, reservar todo el sal\xf3n para un fin de semana, cont\xe1ctenos.</li></ul></div><div><br></div><h1>Uso del sistema de reservas</h1><div><ul><li>\xbfNuevo aqu\xed?<br>Antes de poder utilizar el sistema de reservas, debes registrarte.</li><li>\xbfC\xf3mo reservo una hora?<br>Simplemente haga clic en la hora deseada. Si no ha iniciado sesi\xf3n reg\xedstrate y podr\xe1s reservar la hora que quieras simplemente haciendo clic sobre \xe9l.</li><li>\xbfC\xf3mo cancelo una reserva?<br>Puedes cancelar reservas simplemente haciendo clic en la reserva. S\xf3lo puedes cancelar tus propias reservas. Debes iniciar sesi\xf3n para hacer esto.</li><li>\xbfQu\xe9 restricciones hay para las reservas?<br>Las reservas se pueden realizar con un m\xe1ximo de 3 meses de antelaci\xf3n.</li><li>Cambiar contrase\xf1a, correo electr\xf3nico o nombre de usuario<br>Puedes cambiar tus datos en \u201cMi cuenta de usuario\u201d.</li><li>GDPR: Eliminar/solicitar datos<br>Puedes solicitar todos tus datos en \u201cMi Cuenta de Usuario\u201d.</li></ul></div>"},legalPrivacy:{body:"<h1>Impressum</h1><h1>Protecci\xf3n de Datos</h1>"}},courts:[{courtId:1,name:"Club 1"},{courtId:2,name:"Club 2"}],users:[{userId:9,name:"Max Mustermann",mail:"max@example.com",verified:!0,admin:!1,registeredAt:l()()},{userId:2,name:"Otto Probiermal",mail:"otto@example.com",verified:!0,admin:!0,registeredAt:l()()},{userId:3,name:"J\xfcrgen M.",mail:"juergen@example.com",verified:!0,admin:!1,registeredAt:l()()},{userId:8,name:"H. M\xfcller",mail:"mueller@example.com",verified:!0,admin:!1,registeredAt:l()()},{userId:661,name:"Nick Sample",mail:"test.franz.mein.mail@franz.de",verified:!0,admin:!1,registeredAt:l()()},{userId:41,name:"Franz Test",mail:"test.franz.mein.mail@franz.de",verified:!1,admin:!1,registeredAt:l()()}],reservations:[{id:0,from:u.add(-1,"day").hour(11),to:u.add(3,"day").hour(20),courtId:2,groupId:0,created:u.add(-2,"day").hour(11)},{id:1,from:u.add(-1,"day").hour(11),to:u.add(-1,"day").hour(12),courtId:1,groupId:1,created:u.add(-2,"day").hour(11)},{id:2,from:u.add(3,"day").hour(20),to:u.add(3,"day").hour(21),courtId:1,groupId:3,created:u.add(-2,"day").hour(11)},{id:3,from:u.add(-2,"day").hour(15),to:u.add(-2,"day").hour(16),courtId:1,groupId:2,created:u.add(-4,"day").hour(11)},{id:4,from:u.add(-1,"day").hour(15),to:u.add(-1,"day").hour(16),courtId:1,groupId:2,created:u.add(-4,"day").hour(11)},{id:5,from:u.add(-0,"day").hour(15),to:u.add(-0,"day").hour(16),courtId:1,groupId:2,created:u.add(-4,"day").hour(11)},{id:6,from:u.add(1,"day").hour(15),to:u.add(1,"day").hour(16),courtId:1,groupId:2,created:u.add(-4,"day").hour(11)},{id:7,from:u.add(0,"day").hour(17),to:u.add(0,"day").hour(18),courtId:1,groupId:4,created:u.add(-4,"day").hour(11)},{id:8,from:u.add(7,"day").hour(17),to:u.add(7,"day").hour(18),courtId:1,groupId:4,created:u.add(-4,"day").hour(11)},{id:9,from:u.add(14,"day").hour(17),to:u.add(14,"day").hour(18),courtId:1,groupId:4,created:u.add(-4,"day").hour(11)},{id:10,from:u.add(21,"day").hour(17),to:u.add(21,"day").hour(18),courtId:1,groupId:4,created:u.add(-4,"day").hour(11)}],reservationGroups:[{groupId:0,userId:null,text:"trabajo de enfermer\xeda",type:d.P.DISABLE},{groupId:1,userId:9,text:null,type:d.P.NORMAL},{groupId:3,userId:9,text:null,type:d.P.NORMAL},{groupId:2,userId:3,text:null,type:d.P.NORMAL},{groupId:4,userId:2,text:null,type:d.P.NORMAL}]};window.getFakeDb=()=>c,window.addFakeReservation=()=>{c.reservationGroups.push({groupId:999,userId:2,text:"Fake",type:d.P.NORMAL}),c.reservations.push({from:u.hour(8),to:u.hour(9),courtId:1,groupId:999,created:u})};var m=a(54333),v=a(70579);const p=e=>new Promise((r=>setTimeout(r,e))),h=e=>{let{url:r,method:a}=e,s=a||"GET";const o=r.indexOf(":");return s+(-1!==o?r.slice(0,o):r)};function f(e){const r="string"===typeof e?e:JSON.stringify(e),a=encodeURIComponent(r).match(/%[89ABab]/g);return r.length+(a?a.length:0)}function g(){const e=window.fetch;window.fetch=async(r,a)=>{var t;let u;await p(200);try{u=await async function(e,r){var a,t;const u=r.body?JSON.parse(r.body):null,p=e.indexOf("?"),f=-1!==p?e.slice(0,p):e,g=(0,n.mA)(e.slice(p)),b=f.lastIndexOf("/"),y=f.slice(0,b+1),I=f.slice(b+1);let x=null===(a=r.headers)||void 0===a||null===(t=a.Authorization)||void 0===t?void 0:t.split(".")[1];x=x&&parseInt(x);const k=["".concat(r.method).concat(f),"".concat(r.method).concat(y)];for(let z of k)switch(z){case h(i.OR):return{config:c.config,courts:c.courts,templates:c.templates};case h(i.D9):return c.config={...c.config,...u},{success:!0};case h(i.kI):return c.courts=u,{success:!0};case h(i.jt):return c.mailTemplates;case h(i.vv):return c.mailTemplates={...c.mailTemplates,[u.id]:u},{success:!0};case h(i.Ul):return c.templates={...c.templates,[u.id]:u},{success:!0};case h(i.x1):return c.users.map((e=>({...e,upcomingReservationCount:123,totalReservationCount:1234,lastActivity:l()()})));case h(i.Kl):return c.users=c.users.map((e=>e.userId===u.userId?{...e,...u,verified:(!u.mail||e.mail===u.mail)&&e.verified}:e)),{success:!0};case h(i.OB):if(c.users.some((e=>e.mail===u.mail)))return{__status:400,json:{message:"mail already registered"}};const e={name:u.name,mail:u.mail,password:"hashedPw",userId:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),verified:!1,admin:!1,registeredAt:l()()};return c.users.push(e),{token:"demo-token.".concat(e.userId),userId:e.userId,name:e.name,mail:e.mail,verified:e.verified,admin:e.admin};case h(i.cx):{const{type:e,token:r,mail:a}=u;let s;if("token"===e){const e=parseInt(r.split(".")[1]);s=c.users.find((r=>r.userId===e))}else s=c.users.find((e=>e.mail===a));return s?{token:"demo-token.".concat(s.userId),userId:s.userId,name:s.name,mail:s.mail,verified:s.verified,admin:s.admin}:{__status:401,json:{message:"wrong login"}}}case h(i.zq):return{success:!0};case h(i.Ff):return c.users=c.users.filter((e=>e.userId!==u.userId)),{success:!0};case h(i.vx):{const e=btoa(u.mail);return s.A.warn({key:"fake-verification",message:"Demo E-Mail Verifikation",duration:0,placement:"bottomRight",description:(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{children:["Dies simuliert den Verifikationsprozess f\xfcr ",(0,v.jsx)("strong",{children:u.mail}),"."]}),(0,v.jsx)(o.A,{onClick:()=>{var r;null===(r=m.demoControl.history)||void 0===r||r.push("/verify-mail/".concat(e)),s.A.close("fake-verification")},children:"E-Mail Verifizieren (Demo)"})]})}),{success:!0}}case h(i.$_):{const e=atob(u.token),r=c.users.find((r=>r.mail===e));return r?(r.verified=!0,{success:!0}):{__status:404,json:{message:"user not found"}}}case h(i.Mf):{const e=g.start&&l()(g.start),r=g.end&&l()(g.end),a=g["group-id"]&&parseInt(g["group-id"]),s=g["user-id"]&&parseInt(g["user-id"]),o=[],i=a=>{let{from:s,to:o}=a,i=!0;return e&&(i=i&&e.isSameOrBefore(o)),r&&(i=i&&r.isSameOrAfter(s)),i},n=e=>!a||a===e,d=e=>!s||s===e;return c.reservations.forEach((e=>{i(e)&&c.reservationGroups.forEach((r=>{if(r.groupId===e.groupId&&n(r.groupId)){const a=c.users.find((e=>r.userId===e.userId));d(null===a||void 0===a?void 0:a.userId)&&o.push({...e,...r,name:(null===a||void 0===a?void 0:a.name)||void 0,created:void 0})}}))})),o}case h(i.iU):case h(i.AI):{var A,M;let e;try{e=parseInt(I),isNaN(e)&&(e=null)}catch(P){}e=null!==(A=e)&&void 0!==A?A:c.reservationGroups.reduce(((e,r)=>Math.max(e,r.groupId)),0)+1;const r=null===u||void 0===u?void 0:u.text,a=null===u||void 0===u||null===(M=u.reservations)||void 0===M?void 0:M.map((e=>{let{courtId:r,from:a,to:s}=e;return{courtId:r,from:l()(a),to:l()(s)}}));if(null!==a&&void 0!==a&&a.length){const s=c.reservationGroups.find((r=>r.groupId===e));r&&s&&(s.text=r);const{groupReservations:o,rest:i}=c.reservations.reduce(((r,a)=>(a.groupId===e?r.groupReservations.push(a):r.rest.push(a),r)),{groupReservations:[],rest:[]});let{keepReservations:t,newReservations:m}=a.reduce(((r,a)=>{let{courtId:s,from:i,to:n}=a;const d=o.find((e=>e.from.isSame(i,"hour")&&e.to.isSame(n,"hour")&&e.courtId===s));return d?r.keepReservations.push(d):r.newReservations.push({from:i,to:n,courtId:s,groupId:e,created:l()()}),r}),{keepReservations:[...i],newReservations:[]});const v=(null===s||void 0===s?void 0:s.userId)||x,p=c.users.find((e=>e.userId===v)),h=l()(),f=h.add(c.config.reservationDaysInAdvance,"day");let{conflicts:g,unavailableReservations:b}=m.reduce(((e,r)=>{const a=t.filter((e=>(0,n.s3)(r,e)));return a.length?(e.conflicts.push(...a),e.unavailableReservations.push(r)):(!p.admin&&r.to.isAfter(f,"day")||!p.admin&&r.from.isBefore(h,"hour"))&&e.unavailableReservations.push(r),e}),{conflicts:[],unavailableReservations:[]});if(((null===u||void 0===u?void 0:u.type)||s.type)===d.P.DISABLE){const{normal:e,disabled:r}=g.reduce(((e,r)=>(c.reservationGroups.find((e=>e.groupId===r.groupId)).type===d.P.DISABLE?e.disabled.push(r):e.normal.push(r),e)),{normal:[],disabled:[]});if(r.length)return{__status:409,json:{unavailableReservations:r}};e.length&&(t=t.filter((r=>!e.some((e=>e.from.isSame(r.from,"hour")&&e.to.isSame(r.to,"hour")&&e.courtId===r.courtId)))))}else if(b.length>0)return{__status:409,json:{unavailableReservations:b}};const y=[...t,...m];if(!p.admin){const r=[e,...c.reservationGroups.filter((e=>e.userId===v)).map((e=>e.groupId))],a=y.reduce(((e,a)=>r.includes(a.groupId)&&a.from.isSameOrAfter(h,"hour")?e+1:e),0);if(a>c.config.reservationMaxActiveCount)return{__status:403,json:{message:"too many active reservations",value:a,max:c.config.reservationMaxActiveCount}}}if(c.reservations=y,!o.length){const a={groupId:e,text:r,type:(null===u||void 0===u?void 0:u.type)||d.P.NORMAL,userId:v};return c.reservationGroups.push(a),m.map((e=>({...e,...a,name:p.name,created:void 0})))}}else c.reservationGroups=c.reservationGroups.filter((r=>r.groupId!==e)),c.reservations=c.reservations.filter((r=>r.groupId!==e));return{success:!0}}}return null}(r,a||{})}catch(g){console.log(g),u={__status:500,json:{error:!0}}}return console.log("Fake API:",{request:{url:r,options:a},response:u,db:c,totalKb:f({res:u})/1024}),null!==(t=u)&&void 0!==t&&t.__status?Promise.resolve({ok:!1,status:u.__status,json:async()=>Promise.resolve(JSON.parse(JSON.stringify(u.json)))}):u?Promise.resolve({ok:!0,json:async()=>Promise.resolve(JSON.parse(JSON.stringify(u)))}):e(r,a)}}}}]);
//# sourceMappingURL=962.21c96cd9.chunk.js.map